import{$ as ft,$a as me,$b as hi,A as Ve,Aa as Ho,Ab as Ze,B as wn,Ba as zo,Bb as oa,C as xo,Ca as Go,Cb as mt,D as Ao,Da as Yt,Db as aa,E as Do,Ea as M,Eb as vt,F as pe,Fa as y,Fb as la,G as ni,Ga as oi,Gb as ca,H as q,Ha as qo,Hb as Q,I as V,Ia as ai,Ib as ua,J as Cn,Ja as qe,Jb as rr,K as S,Ka as Wo,Kb as da,L as _e,La as te,Lb as ha,M as Io,Ma as In,Mb as ir,N as P,Na as Ko,Nb as fa,O as Sn,Oa as Qt,Ob as yt,P as I,Pa as Jo,Pb as _t,Q as m,Qa as Zo,Qb as pa,R as En,Ra as Rn,Rb as ke,S as Ro,Sa as Yo,Sb as ga,T as Kt,Ta as Z,Tb as Vn,U as Fe,Ua as Tn,Ub as ma,V as ae,Va as j,Vb as va,W as be,Wa as li,X as ge,Xa as Qo,Y as To,Ya as Xo,Yb as ya,Z as ht,Za as _,Zb as Fn,_ as Mo,_a as E,a as yo,aa as Ue,ab as re,ac as _a,b as _o,ba as Te,bb as L,bc as Un,c as mn,ca as W,cb as R,d as vn,da as K,db as ea,e as oe,ea as Jt,eb as ta,f as G,fa as Oo,fb as ra,g as Ne,ga as si,gb as Mn,h as J,ha as xn,hb as On,i as v,ia as Me,ib as ia,j as Wt,ja as Oe,jb as k,k as bo,ka as ko,kb as na,l as wo,la as An,lb as Xt,m as O,ma as Po,mb as We,n as ri,na as Zt,nb as Ke,o as ee,oa as jo,ob as Je,p as yn,pa as Dn,pb as kn,q as Co,qa as pt,qb as le,r as _n,ra as gt,rb as er,s as So,sa as No,sb as tr,t as Re,ta as Vo,tb as sa,u as ct,ua as Fo,ub as ci,v as ut,va as Uo,vb as ui,w as bn,wa as Lo,wb as Pn,x as dt,xa as $o,xb as jn,y as Eo,ya as Bo,yb as Nn,z as ii,za as Ge,zb as di}from"./chunk-ROYNAYRX.js";import{b as ba,c as wa,f as uu,g as Ca}from"./chunk-SZXJF6TW.js";import{a as g,b as U,e as ye,g as vo,h as cu,i as d}from"./chunk-P2VZOJAX.js";var qs=ye(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var zs=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}};Gs.default=zs});var Ks=ye(jr=>{"use strict";var Kl=jr&&jr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(jr,"__esModule",{value:!0});var vf=Kl((Ca(),cu(uu))),yf=Kl(qs()),Ws=class{constructor(r){this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=r.headers,this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=r.shouldThrowOnError,this.signal=r.signal,this.isMaybeSingle=r.isMaybeSingle,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=vf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=Object.assign({},this.headers),this.headers[r]=e,this}then(r,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let t=this.fetch,n=t(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>d(this,null,function*(){var o,a,l;let c=null,u=null,h=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){let F=yield s.text();F===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=F:u=JSON.parse(F))}let C=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),D=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");C&&D&&D.length>1&&(h=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let C=yield s.text();try{c=JSON.parse(C),Array.isArray(c)&&s.status===404&&(u=[],c=null,f=200,p="OK")}catch{s.status===404&&C===""?(f=204,p="No Content"):c={message:C}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new yf.default(c)}return{error:c,data:u,count:h,status:f,statusText:p}}));return this.shouldThrowOnError||(n=n.catch(s=>{var o,a,l;return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:`${(a=s?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(r,e)}};jr.default=Ws});var Zs=ye(Nr=>{"use strict";var _f=Nr&&Nr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Nr,"__esModule",{value:!0});var bf=_f(Ks()),Js=class extends bf.default{select(r){let e=!1,t=(r??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",t),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:e=!0,nullsFirst:t,foreignTable:n,referencedTable:s=n}={}){let o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${r}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:t=e}={}){let n=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${r}`),this}range(r,e,{foreignTable:t,referencedTable:n=t}={}){let s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${r}`),this.url.searchParams.set(o,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:e=!1,settings:t=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var a;let l=[r?"analyze":null,e?"verbose":null,t?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Nr.default=Js});var Gi=ye(Vr=>{"use strict";var wf=Vr&&Vr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Vr,"__esModule",{value:!0});var Cf=wf(Zs()),Ys=class extends Cf.default{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}in(r,e){let t=Array.from(new Set(e)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(r,`in.(${t})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:t,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");let o=t===void 0?"":`(${t})`;return this.url.searchParams.append(r,`${s}fts${o}.${e}`),this}match(r){return Object.entries(r).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(r,e,t){return this.url.searchParams.append(r,`not.${e}.${t}`),this}or(r,{foreignTable:e,referencedTable:t=e}={}){let n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${r})`),this}filter(r,e,t){return this.url.searchParams.append(r,`${e}.${t}`),this}};Vr.default=Ys});var Xs=ye(Ur=>{"use strict";var Sf=Ur&&Ur.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ur,"__esModule",{value:!0});var Fr=Sf(Gi()),Qs=class{constructor(r,{headers:e={},schema:t,fetch:n}){this.url=r,this.headers=e,this.schema=t,this.fetch=n}select(r,{head:e=!1,count:t}={}){let n=e?"HEAD":"GET",s=!1,o=(r??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),t&&(this.headers.Prefer=`count=${t}`),new Fr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:e,defaultToNull:t=!0}={}){let n="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),t||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(r)){let o=r.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){let a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Fr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:e,ignoreDuplicates:t=!1,count:n,defaultToNull:s=!0}={}){let o="POST",a=[`resolution=${t?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(r)){let l=r.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Fr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:e}={}){let t="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),this.headers.Prefer=n.join(","),new Fr.default({method:t,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){let e="DELETE",t=[];return r&&t.push(`count=${r}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new Fr.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ur.default=Qs});var Jl=ye(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.version=void 0;qi.version="0.0.0-automated"});var Zl=ye(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.DEFAULT_HEADERS=void 0;var Ef=Jl();Wi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ef.version}`}});var Ql=ye(Lr=>{"use strict";var Yl=Lr&&Lr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Lr,"__esModule",{value:!0});var xf=Yl(Xs()),Af=Yl(Gi()),Df=Zl(),eo=class i{constructor(r,{headers:e={},schema:t,fetch:n}={}){this.url=r,this.headers=Object.assign(Object.assign({},Df.DEFAULT_HEADERS),e),this.schemaName=t,this.fetch=n}from(r){let e=new URL(`${this.url}/${r}`);return new xf.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new i(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,e={},{head:t=!1,get:n=!1,count:s}={}){let o,a=new URL(`${this.url}/rpc/${r}`),l;t||n?(o=t?"HEAD":"GET",Object.entries(e).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=e);let c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new Af.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Lr.default=eo});var sc=ye(z=>{"use strict";var Ot=z&&z.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(z,"__esModule",{value:!0});z.PostgrestError=z.PostgrestBuilder=z.PostgrestTransformBuilder=z.PostgrestFilterBuilder=z.PostgrestQueryBuilder=z.PostgrestClient=void 0;var Xl=Ot(Ql());z.PostgrestClient=Xl.default;var ec=Ot(Xs());z.PostgrestQueryBuilder=ec.default;var tc=Ot(Gi());z.PostgrestFilterBuilder=tc.default;var rc=Ot(Zs());z.PostgrestTransformBuilder=rc.default;var ic=Ot(Ks());z.PostgrestBuilder=ic.default;var nc=Ot(qs());z.PostgrestError=nc.default;z.default={PostgrestClient:Xl.default,PostgrestQueryBuilder:ec.default,PostgrestFilterBuilder:tc.default,PostgrestTransformBuilder:rc.default,PostgrestBuilder:ic.default,PostgrestError:nc.default}});var Jc=ye(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.Md5=void 0;var Kc=function(){function i(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return i.hashStr=function(r,e){return e===void 0&&(e=!1),this.onePassHasher.start().appendStr(r).end(e)},i.hashAsciiStr=function(r,e){return e===void 0&&(e=!1),this.onePassHasher.start().appendAsciiStr(r).end(e)},i._hex=function(r){var e=i.hexChars,t=i.hexOut,n,s,o,a;for(a=0;a<4;a+=1)for(s=a*8,n=r[a],o=0;o<8;o+=2)t[s+1+o]=e.charAt(n&15),n>>>=4,t[s+0+o]=e.charAt(n&15),n>>>=4;return t.join("")},i._md5cycle=function(r,e){var t=r[0],n=r[1],s=r[2],o=r[3];t+=(n&s|~n&o)+e[0]-680876936|0,t=(t<<7|t>>>25)+n|0,o+=(t&n|~t&s)+e[1]-389564586|0,o=(o<<12|o>>>20)+t|0,s+=(o&t|~o&n)+e[2]+606105819|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&t)+e[3]-1044525330|0,n=(n<<22|n>>>10)+s|0,t+=(n&s|~n&o)+e[4]-176418897|0,t=(t<<7|t>>>25)+n|0,o+=(t&n|~t&s)+e[5]+1200080426|0,o=(o<<12|o>>>20)+t|0,s+=(o&t|~o&n)+e[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&t)+e[7]-45705983|0,n=(n<<22|n>>>10)+s|0,t+=(n&s|~n&o)+e[8]+1770035416|0,t=(t<<7|t>>>25)+n|0,o+=(t&n|~t&s)+e[9]-1958414417|0,o=(o<<12|o>>>20)+t|0,s+=(o&t|~o&n)+e[10]-42063|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&t)+e[11]-1990404162|0,n=(n<<22|n>>>10)+s|0,t+=(n&s|~n&o)+e[12]+1804603682|0,t=(t<<7|t>>>25)+n|0,o+=(t&n|~t&s)+e[13]-40341101|0,o=(o<<12|o>>>20)+t|0,s+=(o&t|~o&n)+e[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&t)+e[15]+1236535329|0,n=(n<<22|n>>>10)+s|0,t+=(n&o|s&~o)+e[1]-165796510|0,t=(t<<5|t>>>27)+n|0,o+=(t&s|n&~s)+e[6]-1069501632|0,o=(o<<9|o>>>23)+t|0,s+=(o&n|t&~n)+e[11]+643717713|0,s=(s<<14|s>>>18)+o|0,n+=(s&t|o&~t)+e[0]-373897302|0,n=(n<<20|n>>>12)+s|0,t+=(n&o|s&~o)+e[5]-701558691|0,t=(t<<5|t>>>27)+n|0,o+=(t&s|n&~s)+e[10]+38016083|0,o=(o<<9|o>>>23)+t|0,s+=(o&n|t&~n)+e[15]-660478335|0,s=(s<<14|s>>>18)+o|0,n+=(s&t|o&~t)+e[4]-405537848|0,n=(n<<20|n>>>12)+s|0,t+=(n&o|s&~o)+e[9]+568446438|0,t=(t<<5|t>>>27)+n|0,o+=(t&s|n&~s)+e[14]-1019803690|0,o=(o<<9|o>>>23)+t|0,s+=(o&n|t&~n)+e[3]-187363961|0,s=(s<<14|s>>>18)+o|0,n+=(s&t|o&~t)+e[8]+1163531501|0,n=(n<<20|n>>>12)+s|0,t+=(n&o|s&~o)+e[13]-1444681467|0,t=(t<<5|t>>>27)+n|0,o+=(t&s|n&~s)+e[2]-51403784|0,o=(o<<9|o>>>23)+t|0,s+=(o&n|t&~n)+e[7]+1735328473|0,s=(s<<14|s>>>18)+o|0,n+=(s&t|o&~t)+e[12]-1926607734|0,n=(n<<20|n>>>12)+s|0,t+=(n^s^o)+e[5]-378558|0,t=(t<<4|t>>>28)+n|0,o+=(t^n^s)+e[8]-2022574463|0,o=(o<<11|o>>>21)+t|0,s+=(o^t^n)+e[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^t)+e[14]-35309556|0,n=(n<<23|n>>>9)+s|0,t+=(n^s^o)+e[1]-1530992060|0,t=(t<<4|t>>>28)+n|0,o+=(t^n^s)+e[4]+1272893353|0,o=(o<<11|o>>>21)+t|0,s+=(o^t^n)+e[7]-155497632|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^t)+e[10]-1094730640|0,n=(n<<23|n>>>9)+s|0,t+=(n^s^o)+e[13]+681279174|0,t=(t<<4|t>>>28)+n|0,o+=(t^n^s)+e[0]-358537222|0,o=(o<<11|o>>>21)+t|0,s+=(o^t^n)+e[3]-722521979|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^t)+e[6]+76029189|0,n=(n<<23|n>>>9)+s|0,t+=(n^s^o)+e[9]-640364487|0,t=(t<<4|t>>>28)+n|0,o+=(t^n^s)+e[12]-421815835|0,o=(o<<11|o>>>21)+t|0,s+=(o^t^n)+e[15]+530742520|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^t)+e[2]-995338651|0,n=(n<<23|n>>>9)+s|0,t+=(s^(n|~o))+e[0]-198630844|0,t=(t<<6|t>>>26)+n|0,o+=(n^(t|~s))+e[7]+1126891415|0,o=(o<<10|o>>>22)+t|0,s+=(t^(o|~n))+e[14]-1416354905|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~t))+e[5]-57434055|0,n=(n<<21|n>>>11)+s|0,t+=(s^(n|~o))+e[12]+1700485571|0,t=(t<<6|t>>>26)+n|0,o+=(n^(t|~s))+e[3]-1894986606|0,o=(o<<10|o>>>22)+t|0,s+=(t^(o|~n))+e[10]-1051523|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~t))+e[1]-2054922799|0,n=(n<<21|n>>>11)+s|0,t+=(s^(n|~o))+e[8]+1873313359|0,t=(t<<6|t>>>26)+n|0,o+=(n^(t|~s))+e[15]-30611744|0,o=(o<<10|o>>>22)+t|0,s+=(t^(o|~n))+e[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~t))+e[13]+1309151649|0,n=(n<<21|n>>>11)+s|0,t+=(s^(n|~o))+e[4]-145523070|0,t=(t<<6|t>>>26)+n|0,o+=(n^(t|~s))+e[11]-1120210379|0,o=(o<<10|o>>>22)+t|0,s+=(t^(o|~n))+e[2]+718787259|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~t))+e[9]-343485551|0,n=(n<<21|n>>>11)+s|0,r[0]=t+r[0]|0,r[1]=n+r[1]|0,r[2]=s+r[2]|0,r[3]=o+r[3]|0},i.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(i.stateIdentity),this},i.prototype.appendStr=function(r){var e=this._buffer8,t=this._buffer32,n=this._bufferLength,s,o;for(o=0;o<r.length;o+=1){if(s=r.charCodeAt(o),s<128)e[n++]=s;else if(s<2048)e[n++]=(s>>>6)+192,e[n++]=s&63|128;else if(s<55296||s>56319)e[n++]=(s>>>12)+224,e[n++]=s>>>6&63|128,e[n++]=s&63|128;else{if(s=(s-55296)*1024+(r.charCodeAt(++o)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");e[n++]=(s>>>18)+240,e[n++]=s>>>12&63|128,e[n++]=s>>>6&63|128,e[n++]=s&63|128}n>=64&&(this._dataLength+=64,i._md5cycle(this._state,t),n-=64,t[0]=t[16])}return this._bufferLength=n,this},i.prototype.appendAsciiStr=function(r){for(var e=this._buffer8,t=this._buffer32,n=this._bufferLength,s,o=0;;){for(s=Math.min(r.length-o,64-n);s--;)e[n++]=r.charCodeAt(o++);if(n<64)break;this._dataLength+=64,i._md5cycle(this._state,t),n=0}return this._bufferLength=n,this},i.prototype.appendByteArray=function(r){for(var e=this._buffer8,t=this._buffer32,n=this._bufferLength,s,o=0;;){for(s=Math.min(r.length-o,64-n);s--;)e[n++]=r[o++];if(n<64)break;this._dataLength+=64,i._md5cycle(this._state,t),n=0}return this._bufferLength=n,this},i.prototype.getState=function(){var r=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[r[0],r[1],r[2],r[3]]}},i.prototype.setState=function(r){var e=r.buffer,t=r.state,n=this._state,s;for(this._dataLength=r.length,this._bufferLength=r.buflen,n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],s=0;s<e.length;s+=1)this._buffer8[s]=e.charCodeAt(s)},i.prototype.end=function(r){r===void 0&&(r=!1);var e=this._bufferLength,t=this._buffer8,n=this._buffer32,s=(e>>2)+1;this._dataLength+=e;var o=this._dataLength*8;if(t[e]=128,t[e+1]=t[e+2]=t[e+3]=0,n.set(i.buffer32Identity.subarray(s),s),e>55&&(i._md5cycle(this._state,n),n.set(i.buffer32Identity)),o<=4294967295)n[14]=o;else{var a=o.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;var l=parseInt(a[2],16),c=parseInt(a[1],16)||0;n[14]=l,n[15]=c}return i._md5cycle(this._state,n),r?this._state:i._hex(this._state)},i.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),i.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i.hexChars="0123456789abcdef",i.hexOut=[],i.onePassHasher=new i,i}();fn.Md5=Kc;if(Kc.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.")});var Bn=class extends ca{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Hn=class i extends Bn{static makeCurrent(){la(new i)}onAndCancel(r,e,t){return r.addEventListener(e,t),()=>{r.removeEventListener(e,t)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return e=e||this.getDefaultDocument(),e.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return e==="window"?window:e==="document"?r:e==="body"?r.body:null}getBaseHref(r){let e=hu();return e==null?null:fu(e)}resetBaseElement(){nr=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return fa(document.cookie,r)}},nr=null;function hu(){return nr=nr||document.querySelector("base"),nr?nr.getAttribute("href"):null}function fu(i){return new URL(i,document.baseURI).pathname}var pu=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac})}}return i})(),zn=new P(""),Aa=(()=>{class i{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(s=>s.supports(e)),!t)throw new V(5101,!1);return this._eventNameToPlugin.set(e,t),t}static{this.\u0275fac=function(t){return new(t||i)(I(zn),I(te))}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac})}}return i})(),fi=class{constructor(r){this._doc=r}},Ln="ng-app-id",Da=(()=>{class i{constructor(e,t,n,s={}){this.doc=e,this.appId=t,this.nonce=n,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vn(s),this.resetHostNodes()}addStyles(e){for(let t of e)this.changeUsageCount(t,1)===1&&this.onStyleAdded(t)}removeStyles(e){for(let t of e)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(t=>t.remove()),e.clear());for(let t of this.getAllStyles())this.onStyleRemoved(t);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){let t=this.styleRef;t.get(e)?.elements?.forEach(n=>n.remove()),t.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Ln}="${this.appId}"]`);if(e?.length){let t=new Map;return e.forEach(n=>{n.textContent!=null&&t.set(n.textContent,n)}),t}return null}changeUsageCount(e,t){let n=this.styleRef;if(n.has(e)){let s=n.get(e);return s.usage+=t,s.usage}return n.set(e,{usage:t,elements:[]}),t}getStyleElement(e,t){let n=this.styleNodesInDOM,s=n?.get(t);if(s?.parentNode===e)return n.delete(t),s.removeAttribute(Ln),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=t,this.platformIsServer&&o.setAttribute(Ln,this.appId),e.appendChild(o),o}}addStyleToHost(e,t){let n=this.getStyleElement(e,t),s=this.styleRef,o=s.get(t)?.elements;o?o.push(n):s.set(t,{elements:[n],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(t){return new(t||i)(I(Q),I(An),I(Dn,8),I(Zt))}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac})}}return i})(),$n={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qn=/%COMP%/g,Ia="%COMP%",gu=`_nghost-${Ia}`,mu=`_ngcontent-${Ia}`,vu=!0,yu=new P("",{providedIn:"root",factory:()=>vu});function _u(i){return mu.replace(qn,i)}function bu(i){return gu.replace(qn,i)}function Ra(i,r){return r.map(e=>e.replace(qn,i))}var pi=(()=>{class i{constructor(e,t,n,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Vn(a),this.defaultRenderer=new sr(e,o,l,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===Kt.ShadowDom&&(t=U(g({},t),{encapsulation:Kt.Emulated}));let n=this.getOrCreateRenderer(e,t);return n instanceof gi?n.applyToHost(e):n instanceof or&&n.applyStyles(),n}getOrCreateRenderer(e,t){let n=this.rendererByCompId,s=n.get(t.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(t.encapsulation){case Kt.Emulated:s=new gi(l,c,t,this.appId,u,o,a,h);break;case Kt.ShadowDom:return new Gn(l,c,e,t,o,a,this.nonce,h);default:s=new or(l,c,t,u,o,a,h);break}n.set(t.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(t){return new(t||i)(I(Aa),I(Da),I(An),I(yu),I(Q),I(Zt),I(te),I(Dn))}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac})}}return i})(),sr=class{constructor(r,e,t,n){this.eventManager=r,this.doc=e,this.ngZone=t,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,e){return e?this.doc.createElementNS($n[e]||e,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,e){(Sa(r)?r.content:r).appendChild(e)}insertBefore(r,e,t){r&&(Sa(r)?r.content:r).insertBefore(e,t)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let t=typeof r=="string"?this.doc.querySelector(r):r;if(!t)throw new V(-5104,!1);return e||(t.textContent=""),t}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,t,n){if(n){e=n+":"+e;let s=$n[n];s?r.setAttributeNS(s,e,t):r.setAttribute(e,t)}else r.setAttribute(e,t)}removeAttribute(r,e,t){if(t){let n=$n[t];n?r.removeAttributeNS(n,e):r.removeAttribute(`${t}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,t,n){n&(Yt.DashCase|Yt.Important)?r.style.setProperty(e,t,n&Yt.Important?"important":""):r.style[e]=t}removeStyle(r,e,t){t&Yt.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,t){r!=null&&(r[e]=t)}setValue(r,e){r.nodeValue=e}listen(r,e,t){if(typeof r=="string"&&(r=vt().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${e}`);return this.eventManager.addEventListener(r,e,this.decoratePreventDefault(t))}decoratePreventDefault(r){return e=>{if(e==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(e)):r(e))===!1&&e.preventDefault()}}};function Sa(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Gn=class extends sr{constructor(r,e,t,n,s,o,a,l){super(r,s,o,l),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Ra(n.id,n.styles);for(let u of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,t){return super.insertBefore(this.nodeOrShadowRoot(r),e,t)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},or=class extends sr{constructor(r,e,t,n,s,o,a,l){super(r,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n,this.styles=l?Ra(l,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},gi=class extends or{constructor(r,e,t,n,s,o,a,l){let c=n+"-"+t.id;super(r,e,t,s,o,a,l,c),this.contentAttr=_u(c),this.hostAttr=bu(c)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,e){let t=super.createElement(r,e);return super.setAttribute(t,this.contentAttr,""),t}},wu=(()=>{class i extends fi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}static{this.\u0275fac=function(t){return new(t||i)(I(Q))}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac})}}return i})(),Ea=["alt","control","meta","shift"],Cu={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Su={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Eu=(()=>{class i extends fi{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,t,n){let s=i.parseEventName(t),o=i.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vt().onAndCancel(e,s.domEventName,o))}static parseEventName(e){let t=e.toLowerCase().split("."),n=t.shift();if(t.length===0||!(n==="keydown"||n==="keyup"))return null;let s=i._normalizeKey(t.pop()),o="",a=t.indexOf("code");if(a>-1&&(t.splice(a,1),o="code."),Ea.forEach(c=>{let u=t.indexOf(c);u>-1&&(t.splice(u,1),o+=c+".")}),o+=s,t.length!=0||s.length===0)return null;let l={};return l.domEventName=n,l.fullKey=o,l}static matchEventFullKeyCode(e,t){let n=Cu[e.key]||e.key,s="";return t.indexOf("code.")>-1&&(n=e.code,s="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),Ea.forEach(o=>{if(o!==n){let a=Su[o];a(e)&&(s+=o+".")}}),s+=n,s===t)}static eventCallback(e,t,n){return s=>{i.matchEventFullKeyCode(s,e)&&n.runGuarded(()=>t(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(t){return new(t||i)(I(Q))}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac})}}return i})();function Ta(i,r){return oa(g({rootComponent:i},xu(r)))}function xu(i){return{appProviders:[...Tu,...i?.providers??[]],platformProviders:Ru}}function Au(){Hn.makeCurrent()}function Du(){return new xn}function Iu(){return ko(document),document}var Ru=[{provide:Zt,useValue:ga},{provide:Po,useValue:Au,multi:!0},{provide:Q,useFactory:Iu,deps:[]}];var Tu=[{provide:Mo,useValue:"root"},{provide:xn,useFactory:Du,deps:[]},{provide:zn,useClass:wu,multi:!0,deps:[Q,te,Zt]},{provide:zn,useClass:Eu,multi:!0,deps:[Q]},pi,Da,Aa,{provide:ai,useExisting:pi},{provide:va,useClass:pu,deps:[]},[]];var Ma=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(t){return new(t||i)(I(Q))}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Wn=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:function(t){let n=null;return t?n=new(t||i):n=I(Mu),n},providedIn:"root"})}}return i})(),Mu=(()=>{class i extends Wn{constructor(e){super(),this._doc=e}sanitize(e,t){if(t==null)return null;switch(e){case Ge.NONE:return t;case Ge.HTML:return gt(t,"HTML")?pt(t):Bo(this._doc,String(t)).toString();case Ge.STYLE:return gt(t,"Style")?pt(t):t;case Ge.SCRIPT:if(gt(t,"Script"))return pt(t);throw new V(5200,!1);case Ge.URL:return gt(t,"URL")?pt(t):$o(String(t));case Ge.RESOURCE_URL:if(gt(t,"ResourceURL"))return pt(t);throw new V(5201,!1);default:throw new V(5202,!1)}}bypassSecurityTrustHtml(e){return No(e)}bypassSecurityTrustStyle(e){return Vo(e)}bypassSecurityTrustScript(e){return Fo(e)}bypassSecurityTrustUrl(e){return Uo(e)}bypassSecurityTrustResourceUrl(e){return Lo(e)}static{this.\u0275fac=function(t){return new(t||i)(I(Q))}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var b="primary",Cr=Symbol("RouteTitle"),Qn=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Et(i){return new Qn(i)}function Ou(i,r,e){let t=e.path.split("/");if(t.length>i.length||e.pathMatch==="full"&&(r.hasChildren()||t.length<i.length))return null;let n={};for(let s=0;s<t.length;s++){let o=t[s],a=i[s];if(o.startsWith(":"))n[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,t.length),posParams:n}}function ku(i,r){if(i.length!==r.length)return!1;for(let e=0;e<i.length;++e)if(!we(i[e],r[e]))return!1;return!0}function we(i,r){let e=i?Xn(i):void 0,t=r?Xn(r):void 0;if(!e||!t||e.length!=t.length)return!1;let n;for(let s=0;s<e.length;s++)if(n=e[s],!$a(i[n],r[n]))return!1;return!0}function Xn(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function $a(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;let e=[...i].sort(),t=[...r].sort();return e.every((n,s)=>t[s]===n)}else return i===r}function Ba(i){return i.length>0?i[i.length-1]:null}function He(i){return bo(i)?i:ui(i)?J(Promise.resolve(i)):v(i)}var Pu={exact:za,subset:Ga},Ha={exact:ju,subset:Nu,ignored:()=>!0};function ka(i,r,e){return Pu[e.paths](i.root,r.root,e.matrixParams)&&Ha[e.queryParams](i.queryParams,r.queryParams)&&!(e.fragment==="exact"&&i.fragment!==r.fragment)}function ju(i,r){return we(i,r)}function za(i,r,e){if(!Qe(i.segments,r.segments)||!yi(i.segments,r.segments,e)||i.numberOfChildren!==r.numberOfChildren)return!1;for(let t in r.children)if(!i.children[t]||!za(i.children[t],r.children[t],e))return!1;return!0}function Nu(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(e=>$a(i[e],r[e]))}function Ga(i,r,e){return qa(i,r,r.segments,e)}function qa(i,r,e,t){if(i.segments.length>e.length){let n=i.segments.slice(0,e.length);return!(!Qe(n,e)||r.hasChildren()||!yi(n,e,t))}else if(i.segments.length===e.length){if(!Qe(i.segments,e)||!yi(i.segments,e,t))return!1;for(let n in r.children)if(!i.children[n]||!Ga(i.children[n],r.children[n],t))return!1;return!0}else{let n=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!Qe(i.segments,n)||!yi(i.segments,n,t)||!i.children[b]?!1:qa(i.children[b],r,s,t)}}function yi(i,r,e){return r.every((t,n)=>Ha[e](i[n].parameters,t.parameters))}var Le=class{constructor(r=new T([],{}),e={},t=null){this.root=r,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap??=Et(this.queryParams),this._queryParamMap}toString(){return Uu.serialize(this)}},T=class{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Object.values(e).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _i(this)}},Ye=class{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap??=Et(this.parameters),this._parameterMap}toString(){return Ka(this)}};function Vu(i,r){return Qe(i,r)&&i.every((e,t)=>we(e.parameters,r[t].parameters))}function Qe(i,r){return i.length!==r.length?!1:i.every((e,t)=>e.path===r[t].path)}function Fu(i,r){let e=[];return Object.entries(i.children).forEach(([t,n])=>{t===b&&(e=e.concat(r(n,t)))}),Object.entries(i.children).forEach(([t,n])=>{t!==b&&(e=e.concat(r(n,t)))}),e}var Sr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:()=>new fr,providedIn:"root"})}}return i})(),fr=class{parse(r){let e=new ts(r);return new Le(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${ar(r.root,!0)}`,t=Bu(r.queryParams),n=typeof r.fragment=="string"?`#${Lu(r.fragment)}`:"";return`${e}${t}${n}`}},Uu=new fr;function _i(i){return i.segments.map(r=>Ka(r)).join("/")}function ar(i,r){if(!i.hasChildren())return _i(i);if(r){let e=i.children[b]?ar(i.children[b],!1):"",t=[];return Object.entries(i.children).forEach(([n,s])=>{n!==b&&t.push(`${n}:${ar(s,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}else{let e=Fu(i,(t,n)=>n===b?[ar(i.children[b],!1)]:[`${n}:${ar(t,!1)}`]);return Object.keys(i.children).length===1&&i.children[b]!=null?`${_i(i)}/${e[0]}`:`${_i(i)}/(${e.join("//")})`}}function Wa(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mi(i){return Wa(i).replace(/%3B/gi,";")}function Lu(i){return encodeURI(i)}function es(i){return Wa(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bi(i){return decodeURIComponent(i)}function Pa(i){return bi(i.replace(/\+/g,"%20"))}function Ka(i){return`${es(i.path)}${$u(i.parameters)}`}function $u(i){return Object.entries(i).map(([r,e])=>`;${es(r)}=${es(e)}`).join("")}function Bu(i){let r=Object.entries(i).map(([e,t])=>Array.isArray(t)?t.map(n=>`${mi(e)}=${mi(n)}`).join("&"):`${mi(e)}=${mi(t)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var Hu=/^[^\/()?;#]+/;function Kn(i){let r=i.match(Hu);return r?r[0]:""}var zu=/^[^\/()?;=#]+/;function Gu(i){let r=i.match(zu);return r?r[0]:""}var qu=/^[^=?&#]+/;function Wu(i){let r=i.match(qu);return r?r[0]:""}var Ku=/^[^&#]+/;function Ju(i){let r=i.match(Ku);return r?r[0]:""}var ts=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new T([],{}):new T([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(t[b]=new T(r,e)),t}parseSegment(){let r=Kn(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(r),new Ye(bi(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=Gu(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let n=Kn(this.remaining);n&&(t=n,this.capture(t))}r[bi(e)]=bi(t)}parseQueryParam(r){let e=Wu(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let o=Ju(this.remaining);o&&(t=o,this.capture(t))}let n=Pa(e),s=Pa(t);if(r.hasOwnProperty(n)){let o=r[n];Array.isArray(o)||(o=[o],r[n]=o),o.push(s)}else r[n]=s}parseParens(r){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=Kn(this.remaining),n=this.remaining[t.length];if(n!=="/"&&n!==")"&&n!==";")throw new V(4010,!1);let s;t.indexOf(":")>-1?(s=t.slice(0,t.indexOf(":")),this.capture(s),this.capture(":")):r&&(s=b);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[b]:new T([],o),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new V(4011,!1)}};function Ja(i){return i.segments.length>0?new T([],{[b]:i}):i}function Za(i){let r={};for(let[t,n]of Object.entries(i.children)){let s=Za(n);if(t===b&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))r[o]=a;else(s.segments.length>0||s.hasChildren())&&(r[t]=s)}let e=new T(i.segments,r);return Zu(e)}function Zu(i){if(i.numberOfChildren===1&&i.children[b]){let r=i.children[b];return new T(i.segments.concat(r.segments),r.children)}return i}function xt(i){return i instanceof Le}function Yu(i,r,e=null,t=null){let n=Ya(i);return Qa(n,r,e,t)}function Ya(i){let r;function e(s){let o={};for(let l of s.children){let c=e(l);o[l.outlet]=c}let a=new T(s.url,o);return s===i&&(r=a),a}let t=e(i.root),n=Ja(t);return r??n}function Qa(i,r,e,t){let n=i;for(;n.parent;)n=n.parent;if(r.length===0)return Jn(n,n,n,e,t);let s=Qu(r);if(s.toRoot())return Jn(n,n,new T([],{}),e,t);let o=Xu(s,n,i),a=o.processChildren?ur(o.segmentGroup,o.index,s.commands):el(o.segmentGroup,o.index,s.commands);return Jn(n,o.segmentGroup,a,e,t)}function wi(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function pr(i){return typeof i=="object"&&i!=null&&i.outlets}function Jn(i,r,e,t,n){let s={};t&&Object.entries(t).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;i===r?o=e:o=Xa(i,r,e);let a=Ja(Za(o));return new Le(a,s,n)}function Xa(i,r,e){let t={};return Object.entries(i.children).forEach(([n,s])=>{s===r?t[n]=e:t[n]=Xa(s,r,e)}),new T(i.segments,t)}var Ci=class{constructor(r,e,t){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=t,r&&t.length>0&&wi(t[0]))throw new V(4003,!1);let n=t.find(pr);if(n&&n!==Ba(t))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Qu(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Ci(!0,0,i);let r=0,e=!1,t=i.reduce((n,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...n,{outlets:a}]}if(s.segmentPath)return[...n,s.segmentPath]}return typeof s!="string"?[...n,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?r++:a!=""&&n.push(a))}),n):[...n,s]},[]);return new Ci(e,r,t)}var Ct=class{constructor(r,e,t){this.segmentGroup=r,this.processChildren=e,this.index=t}};function Xu(i,r,e){if(i.isAbsolute)return new Ct(r,!0,0);if(!e)return new Ct(r,!1,NaN);if(e.parent===null)return new Ct(e,!0,0);let t=wi(i.commands[0])?0:1,n=e.segments.length-1+t;return ed(e,n,i.numberOfDoubleDots)}function ed(i,r,e){let t=i,n=r,s=e;for(;s>n;){if(s-=n,t=t.parent,!t)throw new V(4005,!1);n=t.segments.length}return new Ct(t,!1,n-s)}function td(i){return pr(i[0])?i[0].outlets:{[b]:i}}function el(i,r,e){if(i??=new T([],{}),i.segments.length===0&&i.hasChildren())return ur(i,r,e);let t=rd(i,r,e),n=e.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){let s=new T(i.segments.slice(0,t.pathIndex),{});return s.children[b]=new T(i.segments.slice(t.pathIndex),i.children),ur(s,0,n)}else return t.match&&n.length===0?new T(i.segments,{}):t.match&&!i.hasChildren()?rs(i,r,e):t.match?ur(i,0,n):rs(i,r,e)}function ur(i,r,e){if(e.length===0)return new T(i.segments,{});{let t=td(e),n={};if(Object.keys(t).some(s=>s!==b)&&i.children[b]&&i.numberOfChildren===1&&i.children[b].segments.length===0){let s=ur(i.children[b],r,e);return new T(i.segments,s.children)}return Object.entries(t).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(n[s]=el(i.children[s],r,o))}),Object.entries(i.children).forEach(([s,o])=>{t[s]===void 0&&(n[s]=o)}),new T(i.segments,n)}}function rd(i,r,e){let t=0,n=r,s={match:!1,pathIndex:0,commandIndex:0};for(;n<i.segments.length;){if(t>=e.length)return s;let o=i.segments[n],a=e[t];if(pr(a))break;let l=`${a}`,c=t<e.length-1?e[t+1]:null;if(n>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Na(l,c,o))return s;t+=2}else{if(!Na(l,{},o))return s;t++}n++}return{match:!0,pathIndex:n,commandIndex:t}}function rs(i,r,e){let t=i.segments.slice(0,r),n=0;for(;n<e.length;){let s=e[n];if(pr(s)){let l=id(s.outlets);return new T(t,l)}if(n===0&&wi(e[0])){let l=i.segments[r];t.push(new Ye(l.path,ja(e[0]))),n++;continue}let o=pr(s)?s.outlets[b]:`${s}`,a=n<e.length-1?e[n+1]:null;o&&a&&wi(a)?(t.push(new Ye(o,ja(a))),n+=2):(t.push(new Ye(o,{})),n++)}return new T(t,{})}function id(i){let r={};return Object.entries(i).forEach(([e,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(r[e]=rs(new T([],{}),0,t))}),r}function ja(i){let r={};return Object.entries(i).forEach(([e,t])=>r[e]=`${t}`),r}function Na(i,r,e){return i==e.path&&we(r,e.parameters)}var dr="imperative",H=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(H||{}),ce=class{constructor(r,e){this.id=r,this.url=e}},At=class extends ce{constructor(r,e,t="imperative",n=null){super(r,e),this.type=H.NavigationStart,this.navigationTrigger=t,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ce=class extends ce{constructor(r,e,t){super(r,e),this.urlAfterRedirects=t,this.type=H.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ne=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(ne||{}),Si=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Si||{}),$e=class extends ce{constructor(r,e,t,n){super(r,e),this.reason=t,this.code=n,this.type=H.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Be=class extends ce{constructor(r,e,t,n){super(r,e),this.reason=t,this.code=n,this.type=H.NavigationSkipped}},gr=class extends ce{constructor(r,e,t,n){super(r,e),this.error=t,this.target=n,this.type=H.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ei=class extends ce{constructor(r,e,t,n){super(r,e),this.urlAfterRedirects=t,this.state=n,this.type=H.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},is=class extends ce{constructor(r,e,t,n){super(r,e),this.urlAfterRedirects=t,this.state=n,this.type=H.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ns=class extends ce{constructor(r,e,t,n,s){super(r,e),this.urlAfterRedirects=t,this.state=n,this.shouldActivate=s,this.type=H.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ss=class extends ce{constructor(r,e,t,n){super(r,e),this.urlAfterRedirects=t,this.state=n,this.type=H.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},os=class extends ce{constructor(r,e,t,n){super(r,e),this.urlAfterRedirects=t,this.state=n,this.type=H.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},as=class{constructor(r){this.route=r,this.type=H.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ls=class{constructor(r){this.route=r,this.type=H.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cs=class{constructor(r){this.snapshot=r,this.type=H.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},us=class{constructor(r){this.snapshot=r,this.type=H.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ds=class{constructor(r){this.snapshot=r,this.type=H.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hs=class{constructor(r){this.snapshot=r,this.type=H.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xi=class{constructor(r,e,t){this.routerEvent=r,this.position=e,this.anchor=t,this.type=H.Scroll}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},mr=class{},vr=class{constructor(r){this.url=r}};var fs=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Er,this.attachRef=null}},Er=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){let n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){let t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new fs,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ai=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=ps(r,this._root);return e?e.children.map(t=>t.value):[]}firstChild(r){let e=ps(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=gs(r,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==r)}pathFromRoot(r){return gs(r,this._root).map(e=>e.value)}};function ps(i,r){if(i===r.value)return r;for(let e of r.children){let t=ps(i,e);if(t)return t}return null}function gs(i,r){if(i===r.value)return[r];for(let e of r.children){let t=gs(i,e);if(t.length)return t.unshift(r),t}return[]}var ie=class{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}};function wt(i){let r={};return i&&i.children.forEach(e=>r[e.value.outlet]=e),r}var Di=class extends Ai{constructor(r,e){super(r),this.snapshot=e,As(this,r)}toString(){return this.snapshot.toString()}};function tl(i){let r=nd(i),e=new G([new Ye("",{})]),t=new G({}),n=new G({}),s=new G({}),o=new G(""),a=new Se(e,t,s,o,n,b,i,r.root);return a.snapshot=r.root,new Di(new ie(a,[]),r)}function nd(i){let r={},e={},t={},n="",s=new yr([],r,t,n,e,b,i,null,{});return new Ii("",new ie(s,[]))}var Se=class{constructor(r,e,t,n,s,o,a,l){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=t,this.fragmentSubject=n,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(O(c=>c[Cr]))??v(void 0),this.url=r,this.params=e,this.queryParams=t,this.fragment=n,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(O(r=>Et(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(O(r=>Et(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xs(i,r,e="emptyOnly"){let t,{routeConfig:n}=i;return r!==null&&(e==="always"||n?.path===""||!r.component&&!r.routeConfig?.loadComponent)?t={params:g(g({},r.params),i.params),data:g(g({},r.data),i.data),resolve:g(g(g(g({},i.data),r.data),n?.data),i._resolvedData)}:t={params:g({},i.params),data:g({},i.data),resolve:g(g({},i.data),i._resolvedData??{})},n&&il(n)&&(t.resolve[Cr]=n.title),t}var yr=class{get title(){return this.data?.[Cr]}constructor(r,e,t,n,s,o,a,l,c){this.url=r,this.params=e,this.queryParams=t,this.fragment=n,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Et(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Et(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(t=>t.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${e}')`}},Ii=class extends Ai{constructor(r,e){super(e),this.url=r,As(this,e)}toString(){return rl(this._root)}};function As(i,r){r.value._routerState=i,r.children.forEach(e=>As(i,e))}function rl(i){let r=i.children.length>0?` { ${i.children.map(rl).join(", ")} } `:"";return`${i.value}${r}`}function Zn(i){if(i.snapshot){let r=i.snapshot,e=i._futureSnapshot;i.snapshot=e,we(r.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),we(r.params,e.params)||i.paramsSubject.next(e.params),ku(r.url,e.url)||i.urlSubject.next(e.url),we(r.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function ms(i,r){let e=we(i.params,r.params)&&Vu(i.url,r.url),t=!i.parent!=!r.parent;return e&&!t&&(!i.parent||ms(i.parent,r.parent))}function il(i){return typeof i.title=="string"||i.title===null}var Ds=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=b,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=m(Er),this.location=m(Ko),this.changeDetector=m(Ze),this.environmentInjector=m(ft),this.inputBinder=m(Oi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:t,previousValue:n}=e.name;if(t)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=e;let n=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new vs(e,a,n.injector);this.activated=n.createComponent(o,{index:n.length,injector:l,environmentInjector:t??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=ge({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Te]})}}return i})(),vs=class i{__ngOutletInjector(r){return new i(this.route,this.childContexts,r)}constructor(r,e,t){this.route=r,this.childContexts=e,this.parent=t}get(r,e){return r===Se?this.route:r===Er?this.childContexts:this.parent.get(r,e)}},Oi=new P(""),Va=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:t}=e,n=ri([t.queryParams,t.params,t.data]).pipe(pe(([s,o,a],l)=>(a=g(g(g({},s),o),a),l===0?v(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==t||t.component===null){this.unsubscribeFromRouteData(e);return}let o=aa(t.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(e,n)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac})}}return i})();function sd(i,r,e){let t=_r(i,r._root,e?e._root:void 0);return new Di(t,r)}function _r(i,r,e){if(e&&i.shouldReuseRoute(r.value,e.value.snapshot)){let t=e.value;t._futureSnapshot=r.value;let n=od(i,r,e);return new ie(t,n)}else{if(i.shouldAttach(r.value)){let s=i.retrieve(r.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=r.value,o.children=r.children.map(a=>_r(i,a)),o}}let t=ad(r.value),n=r.children.map(s=>_r(i,s));return new ie(t,n)}}function od(i,r,e){return r.children.map(t=>{for(let n of e.children)if(i.shouldReuseRoute(t.value,n.value.snapshot))return _r(i,t,n);return _r(i,t)})}function ad(i){return new Se(new G(i.url),new G(i.params),new G(i.queryParams),new G(i.fragment),new G(i.data),i.outlet,i.component,i)}var nl="ngNavigationCancelingError";function sl(i,r){let{redirectTo:e,navigationBehaviorOptions:t}=xt(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,n=ol(!1,ne.Redirect);return n.url=e,n.navigationBehaviorOptions=t,n}function ol(i,r){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[nl]=!0,e.cancellationCode=r,e}function ld(i){return al(i)&&xt(i.url)}function al(i){return!!i&&i[nl]}var cd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=ae({type:i,selectors:[["ng-component"]],standalone:!0,features:[le],decls:1,vars:0,template:function(t,n){t&1&&me(0,"router-outlet")},dependencies:[Ds],encapsulation:2})}}return i})();function ud(i,r){return i.providers&&!i._injector&&(i._injector=Rn(i.providers,r,`Route: ${i.path}`)),i._injector??r}function Is(i){let r=i.children&&i.children.map(Is),e=r?U(g({},i),{children:r}):g({},i);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==b&&(e.component=cd),e}function Ee(i){return i.outlet||b}function dd(i,r){let e=i.filter(t=>Ee(t)===r);return e.push(...i.filter(t=>Ee(t)!==r)),e}function xr(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let r=i.parent;r;r=r.parent){let e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var hd=(i,r,e,t)=>O(n=>(new ys(r,n.targetRouterState,n.currentRouterState,e,t).activate(i),n)),ys=class{constructor(r,e,t,n,s){this.routeReuseStrategy=r,this.futureState=e,this.currState=t,this.forwardEvent=n,this.inputBindingEnabled=s}activate(r){let e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,r),Zn(this.futureState.root),this.activateChildRoutes(e,t,r)}deactivateChildRoutes(r,e,t){let n=wt(e);r.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,n[o],t),delete n[o]}),Object.values(n).forEach(s=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(r,e,t){let n=r.value,s=e?e.value:null;if(n===s)if(n.component){let o=t.getContext(n.outlet);o&&this.deactivateChildRoutes(r,e,o.children)}else this.deactivateChildRoutes(r,e,t);else s&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){let t=e.getContext(r.value.outlet),n=t&&r.value.component?t.children:e,s=wt(r);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,n);if(t&&t.outlet){let o=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:o,route:r,contexts:a})}}deactivateRouteAndOutlet(r,e){let t=e.getContext(r.value.outlet),n=t&&r.value.component?t.children:e,s=wt(r);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,n);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(r,e,t){let n=wt(e);r.children.forEach(s=>{this.activateRoutes(s,n[s.value.outlet],t),this.forwardEvent(new hs(s.value.snapshot))}),r.children.length&&this.forwardEvent(new us(r.value.snapshot))}activateRoutes(r,e,t){let n=r.value,s=e?e.value:null;if(Zn(n),n===s)if(n.component){let o=t.getOrCreateContext(n.outlet);this.activateChildRoutes(r,e,o.children)}else this.activateChildRoutes(r,e,t);else if(n.component){let o=t.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Zn(a.route.value),this.activateChildRoutes(r,null,o.children)}else{let a=xr(n.snapshot);o.attachRef=null,o.route=n,o.injector=a,o.outlet&&o.outlet.activateWith(n,o.injector),this.activateChildRoutes(r,null,o.children)}}else this.activateChildRoutes(r,null,t)}},Ri=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},St=class{constructor(r,e){this.component=r,this.route=e}};function fd(i,r,e){let t=i._root,n=r?r._root:null;return lr(t,n,e,[t.value])}function pd(i){let r=i.routeConfig?i.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:i,guards:r}}function It(i,r){let e=Symbol(),t=r.get(i,e);return t===e?typeof i=="function"&&!Io(i)?i:r.get(i):t}function lr(i,r,e,t,n={canDeactivateChecks:[],canActivateChecks:[]}){let s=wt(r);return i.children.forEach(o=>{gd(o,s[o.value.outlet],e,t.concat([o.value]),n),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>hr(a,e.getContext(o),n)),n}function gd(i,r,e,t,n={canDeactivateChecks:[],canActivateChecks:[]}){let s=i.value,o=r?r.value:null,a=e?e.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=md(o,s,s.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new Ri(t)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?lr(i,r,a?a.children:null,t,n):lr(i,r,e,t,n),l&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new St(a.outlet.component,o))}else o&&hr(r,a,n),n.canActivateChecks.push(new Ri(t)),s.component?lr(i,null,a?a.children:null,t,n):lr(i,null,e,t,n);return n}function md(i,r,e){if(typeof e=="function")return e(i,r);switch(e){case"pathParamsChange":return!Qe(i.url,r.url);case"pathParamsOrQueryParamsChange":return!Qe(i.url,r.url)||!we(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ms(i,r)||!we(i.queryParams,r.queryParams);case"paramsChange":default:return!ms(i,r)}}function hr(i,r,e){let t=wt(i),n=i.value;Object.entries(t).forEach(([s,o])=>{n.component?r?hr(o,r.children.getContext(s),e):hr(o,null,e):hr(o,r,e)}),n.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new St(r.outlet.component,n)):e.canDeactivateChecks.push(new St(null,n)):e.canDeactivateChecks.push(new St(null,n))}function Ar(i){return typeof i=="function"}function vd(i){return typeof i=="boolean"}function yd(i){return i&&Ar(i.canLoad)}function _d(i){return i&&Ar(i.canActivate)}function bd(i){return i&&Ar(i.canActivateChild)}function wd(i){return i&&Ar(i.canDeactivate)}function Cd(i){return i&&Ar(i.canMatch)}function ll(i){return i instanceof wo||i?.name==="EmptyError"}var vi=Symbol("INITIAL_VALUE");function Dt(){return pe(i=>ri(i.map(r=>r.pipe(dt(1),Do(vi)))).pipe(O(r=>{for(let e of r)if(e!==!0){if(e===vi)return vi;if(e===!1||e instanceof Le)return e}return!0}),Re(r=>r!==vi),dt(1)))}function Sd(i,r){return ee(e=>{let{targetSnapshot:t,currentSnapshot:n,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?v(U(g({},e),{guardsResult:!0})):Ed(o,t,n,i).pipe(ee(a=>a&&vd(a)?xd(t,s,i,r):v(a)),O(a=>U(g({},e),{guardsResult:a})))})}function Ed(i,r,e,t){return J(i).pipe(ee(n=>Td(n.component,n.route,e,r,t)),Ve(n=>n!==!0,!0))}function xd(i,r,e,t){return J(r).pipe(ut(n=>Co(Dd(n.route.parent,t),Ad(n.route,t),Rd(i,n.path,e),Id(i,n.route,e))),Ve(n=>n!==!0,!0))}function Ad(i,r){return i!==null&&r&&r(new ds(i)),v(!0)}function Dd(i,r){return i!==null&&r&&r(new cs(i)),v(!0)}function Id(i,r,e){let t=r.routeConfig?r.routeConfig.canActivate:null;if(!t||t.length===0)return v(!0);let n=t.map(s=>_n(()=>{let o=xr(r)??e,a=It(s,o),l=_d(a)?a.canActivate(r,i):Ue(o,()=>a(r,i));return He(l).pipe(Ve())}));return v(n).pipe(Dt())}function Rd(i,r,e){let t=r[r.length-1],s=r.slice(0,r.length-1).reverse().map(o=>pd(o)).filter(o=>o!==null).map(o=>_n(()=>{let a=o.guards.map(l=>{let c=xr(o.node)??e,u=It(l,c),h=bd(u)?u.canActivateChild(t,i):Ue(c,()=>u(t,i));return He(h).pipe(Ve())});return v(a).pipe(Dt())}));return v(s).pipe(Dt())}function Td(i,r,e,t,n){let s=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!s||s.length===0)return v(!0);let o=s.map(a=>{let l=xr(r)??n,c=It(a,l),u=wd(c)?c.canDeactivate(i,r,e,t):Ue(l,()=>c(i,r,e,t));return He(u).pipe(Ve())});return v(o).pipe(Dt())}function Md(i,r,e,t){let n=r.canLoad;if(n===void 0||n.length===0)return v(!0);let s=n.map(o=>{let a=It(o,i),l=yd(a)?a.canLoad(r,e):Ue(i,()=>a(r,e));return He(l)});return v(s).pipe(Dt(),cl(t))}function cl(i){return _o(q(r=>{if(xt(r))throw sl(i,r)}),O(r=>r===!0))}function Od(i,r,e,t){let n=r.canMatch;if(!n||n.length===0)return v(!0);let s=n.map(o=>{let a=It(o,i),l=Cd(a)?a.canMatch(r,e):Ue(i,()=>a(r,e));return He(l)});return v(s).pipe(Dt(),cl(t))}var br=class{constructor(r){this.segmentGroup=r||null}},Ti=class extends Error{constructor(r){super(),this.urlTree=r}};function bt(i){return Wt(new br(i))}function kd(i){return Wt(new V(4e3,!1))}function Pd(i){return Wt(ol(!1,ne.GuardRejected))}var _s=class{constructor(r,e){this.urlSerializer=r,this.urlTree=e}lineralizeSegments(r,e){let t=[],n=e.root;for(;;){if(t=t.concat(n.segments),n.numberOfChildren===0)return v(t);if(n.numberOfChildren>1||!n.children[b])return kd(r.redirectTo);n=n.children[b]}}applyRedirectCommands(r,e,t){let n=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,t);if(e.startsWith("/"))throw new Ti(n);return n}applyRedirectCreateUrlTree(r,e,t,n){let s=this.createSegmentGroup(r,e.root,t,n);return new Le(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let t={};return Object.entries(r).forEach(([n,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);t[n]=e[a]}else t[n]=s}),t}createSegmentGroup(r,e,t,n){let s=this.createSegments(r,e.segments,t,n),o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(r,l,t,n)}),new T(s,o)}createSegments(r,e,t,n){return e.map(s=>s.path.startsWith(":")?this.findPosParam(r,s,n):this.findOrReturn(s,t))}findPosParam(r,e,t){let n=t[e.path.substring(1)];if(!n)throw new V(4001,!1);return n}findOrReturn(r,e){let t=0;for(let n of e){if(n.path===r.path)return e.splice(t),n;t++}return r}},bs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jd(i,r,e,t,n){let s=Rs(i,r,e);return s.matched?(t=ud(r,t),Od(t,r,e,n).pipe(O(o=>o===!0?s:g({},bs)))):v(s)}function Rs(i,r,e){if(r.path==="**")return Nd(e);if(r.path==="")return r.pathMatch==="full"&&(i.hasChildren()||e.length>0)?g({},bs):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let n=(r.matcher||Ou)(e,i,r);if(!n)return g({},bs);let s={};Object.entries(n.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=n.consumed.length>0?g(g({},s),n.consumed[n.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:o,positionalParamSegments:n.posParams??{}}}function Nd(i){return{matched:!0,parameters:i.length>0?Ba(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function Fa(i,r,e,t){return e.length>0&&Ud(i,e,t)?{segmentGroup:new T(r,Fd(t,new T(e,i.children))),slicedSegments:[]}:e.length===0&&Ld(i,e,t)?{segmentGroup:new T(i.segments,Vd(i,e,t,i.children)),slicedSegments:e}:{segmentGroup:new T(i.segments,i.children),slicedSegments:e}}function Vd(i,r,e,t){let n={};for(let s of e)if(ki(i,r,s)&&!t[Ee(s)]){let o=new T([],{});n[Ee(s)]=o}return g(g({},t),n)}function Fd(i,r){let e={};e[b]=r;for(let t of i)if(t.path===""&&Ee(t)!==b){let n=new T([],{});e[Ee(t)]=n}return e}function Ud(i,r,e){return e.some(t=>ki(i,r,t)&&Ee(t)!==b)}function Ld(i,r,e){return e.some(t=>ki(i,r,t))}function ki(i,r,e){return(i.hasChildren()||r.length>0)&&e.pathMatch==="full"?!1:e.path===""}function $d(i,r,e,t){return Ee(i)!==t&&(t===b||!ki(r,e,i))?!1:Rs(r,i,e).matched}function Bd(i,r,e){return r.length===0&&!i.children[e]}var ws=class{};function Hd(i,r,e,t,n,s,o="emptyOnly"){return new Cs(i,r,e,t,n,o,s).recognize()}var zd=31,Cs=class{constructor(r,e,t,n,s,o,a){this.injector=r,this.configLoader=e,this.rootComponentType=t,this.config=n,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new _s(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new V(4002,`'${r.segmentGroup}'`)}recognize(){let r=Fa(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(O(e=>{let t=new yr([],Object.freeze({}),Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,{},b,this.rootComponentType,null,{}),n=new ie(t,e),s=new Ii("",n),o=Yu(t,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(r){return this.processSegmentGroup(this.injector,this.config,r,b).pipe(ct(t=>{if(t instanceof Ti)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof br?this.noMatchError(t):t}))}inheritParamsAndData(r,e){let t=r.value,n=xs(t,e,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),r.children.forEach(s=>this.inheritParamsAndData(s,t))}processSegmentGroup(r,e,t,n){return t.segments.length===0&&t.hasChildren()?this.processChildren(r,e,t):this.processSegment(r,e,t,t.segments,n,!0).pipe(O(s=>s instanceof ie?[s]:[]))}processChildren(r,e,t){let n=[];for(let s of Object.keys(t.children))s==="primary"?n.unshift(s):n.push(s);return J(n).pipe(ut(s=>{let o=t.children[s],a=dd(e,s);return this.processSegmentGroup(r,a,o,s)}),Ao((s,o)=>(s.push(...o),s)),bn(null),xo(),ee(s=>{if(s===null)return bt(t);let o=ul(s);return Gd(o),v(o)}))}processSegment(r,e,t,n,s,o){return J(e).pipe(ut(a=>this.processSegmentAgainstRoute(a._injector??r,e,a,t,n,s,o).pipe(ct(l=>{if(l instanceof br)return v(null);throw l}))),Ve(a=>!!a),ct(a=>{if(ll(a))return Bd(t,n,s)?v(new ws):bt(t);throw a}))}processSegmentAgainstRoute(r,e,t,n,s,o,a){return $d(t,n,s,o)?t.redirectTo===void 0?this.matchSegmentAgainstRoute(r,n,t,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(r,n,e,t,s,o):bt(n):bt(n)}expandSegmentAgainstRouteUsingRedirect(r,e,t,n,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=Rs(e,n,s);if(!a)return bt(e);n.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zd&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(l,n.redirectTo,c);return this.applyRedirects.lineralizeSegments(n,h).pipe(ee(f=>this.processSegment(r,t,e,f.concat(u),o,!1)))}matchSegmentAgainstRoute(r,e,t,n,s){let o=jd(e,t,n,r,this.urlSerializer);return t.path==="**"&&(e.children={}),o.pipe(pe(a=>a.matched?(r=t._injector??r,this.getChildConfig(r,t,n).pipe(pe(({routes:l})=>{let c=t._loadedInjector??r,{consumedSegments:u,remainingSegments:h,parameters:f}=a,p=new yr(u,f,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,Wd(t),Ee(t),t.component??t._loadedComponent??null,t,Kd(t)),{segmentGroup:A,slicedSegments:C}=Fa(e,u,h,l);if(C.length===0&&A.hasChildren())return this.processChildren(c,l,A).pipe(O(F=>F===null?null:new ie(p,F)));if(l.length===0&&C.length===0)return v(new ie(p,[]));let D=Ee(t)===s;return this.processSegment(c,l,A,C,D?b:s,!0).pipe(O(F=>new ie(p,F instanceof ie?[F]:[])))}))):bt(e)))}getChildConfig(r,e,t){return e.children?v({routes:e.children,injector:r}):e.loadChildren?e._loadedRoutes!==void 0?v({routes:e._loadedRoutes,injector:e._loadedInjector}):Md(r,e,t,this.urlSerializer).pipe(ee(n=>n?this.configLoader.loadChildren(r,e).pipe(q(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):Pd(e))):v({routes:[],injector:r})}};function Gd(i){i.sort((r,e)=>r.value.outlet===b?-1:e.value.outlet===b?1:r.value.outlet.localeCompare(e.value.outlet))}function qd(i){let r=i.value.routeConfig;return r&&r.path===""}function ul(i){let r=[],e=new Set;for(let t of i){if(!qd(t)){r.push(t);continue}let n=r.find(s=>t.value.routeConfig===s.value.routeConfig);n!==void 0?(n.children.push(...t.children),e.add(n)):r.push(t)}for(let t of e){let n=ul(t.children);r.push(new ie(t.value,n))}return r.filter(t=>!e.has(t))}function Wd(i){return i.data||{}}function Kd(i){return i.resolve||{}}function Jd(i,r,e,t,n,s){return ee(o=>Hd(i,r,e,t,o.extractedUrl,n,s).pipe(O(({state:a,tree:l})=>U(g({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Zd(i,r){return ee(e=>{let{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return v(e);let s=new Set(n.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of dl(l))o.add(c);let a=0;return J(o).pipe(ut(l=>s.has(l)?Yd(l,t,i,r):(l.data=xs(l,l.parent,i).resolve,v(void 0))),q(()=>a++),wn(1),ee(l=>a===o.size?v(e):Ne))})}function dl(i){let r=i.children.map(e=>dl(e)).flat();return[i,...r]}function Yd(i,r,e,t){let n=i.routeConfig,s=i._resolve;return n?.title!==void 0&&!il(n)&&(s[Cr]=n.title),Qd(s,i,r,t).pipe(O(o=>(i._resolvedData=o,i.data=xs(i,i.parent,e).resolve,null)))}function Qd(i,r,e,t){let n=Xn(i);if(n.length===0)return v({});let s={};return J(n).pipe(ee(o=>Xd(i[o],r,e,t).pipe(Ve(),q(a=>{s[o]=a}))),wn(1),Eo(s),ct(o=>ll(o)?Ne:Wt(o)))}function Xd(i,r,e,t){let n=xr(r)??t,s=It(i,n),o=s.resolve?s.resolve(r,e):Ue(n,()=>s(r,e));return He(o)}function Yn(i){return pe(r=>{let e=i(r);return e?J(e).pipe(O(()=>r)):v(r)})}var hl=(()=>{class i{buildTitle(e){let t,n=e.root;for(;n!==void 0;)t=this.getResolvedTitleForRoute(n)??t,n=n.children.find(s=>s.outlet===b);return t}getResolvedTitleForRoute(e){return e.data[Cr]}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:()=>m(eh),providedIn:"root"})}}return i})(),eh=(()=>{class i extends hl{constructor(e){super(),this.title=e}updateTitle(e){let t=this.buildTitle(e);t!==void 0&&this.title.setTitle(t)}static{this.\u0275fac=function(t){return new(t||i)(I(Ma))}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Dr=new P("",{providedIn:"root",factory:()=>({})}),wr=new P(""),Ts=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=m(di)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return v(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let t=He(e.loadComponent()).pipe(O(fl),q(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),ii(()=>{this.componentLoaders.delete(e)})),n=new vn(t,()=>new oe).pipe(mn());return this.componentLoaders.set(e,n),n}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return v({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let s=th(t,this.compiler,e,this.onLoadEndListener).pipe(ii(()=>{this.childrenLoaders.delete(t)})),o=new vn(s,()=>new oe).pipe(mn());return this.childrenLoaders.set(t,o),o}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function th(i,r,e,t){return He(i.loadChildren()).pipe(O(fl),ee(n=>n instanceof Zo||Array.isArray(n)?v(n):J(r.compileModuleAsync(n))),O(n=>{t&&t(i);let s,o,a=!1;return Array.isArray(n)?(o=n,a=!0):(s=n.create(e).injector,o=s.get(wr,[],{optional:!0,self:!0}).flat()),{routes:o.map(Is),injector:s}}))}function rh(i){return i&&typeof i=="object"&&"default"in i}function fl(i){return rh(i)?i.default:i}var Ms=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:()=>m(ih),providedIn:"root"})}}return i})(),ih=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),pl=new P(""),gl=new P("");function nh(i,r,e){let t=i.get(gl),n=i.get(Q);return i.get(te).runOutsideAngular(()=>{if(!n.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=n.startViewTransition(()=>(s(),sh(i))),{onViewTransitionCreated:l}=t;return l&&Ue(i,()=>l({transition:a,from:r,to:e})),o})}function sh(i){return new Promise(r=>{In(r,{injector:i})})}var Os=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new oe,this.transitionAbortSubject=new oe,this.configLoader=m(Ts),this.environmentInjector=m(ft),this.urlSerializer=m(Sr),this.rootContexts=m(Er),this.location=m(ir),this.inputBindingEnabled=m(Oi,{optional:!0})!==null,this.titleStrategy=m(hl),this.options=m(Dr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=m(Ms),this.createViewTransition=m(pl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>v(void 0),this.rootComponentType=null;let e=n=>this.events.next(new as(n)),t=n=>this.events.next(new ls(n));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let t=++this.navigationId;this.transitions?.next(U(g(g({},this.transitions.value),e),{id:t}))}setupNavigations(e,t,n){return this.transitions=new G({id:0,currentUrlTree:t,currentRawUrl:t,extractedUrl:this.urlHandlingStrategy.extract(t),urlAfterRedirects:this.urlHandlingStrategy.extract(t),rawUrl:t,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dr,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Re(s=>s.id!==0),O(s=>U(g({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),pe(s=>{let o=!1,a=!1;return v(s).pipe(pe(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ne.SupersededByNewNavigation),Ne;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?U(g({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let h="";return this.events.next(new Be(l.id,this.urlSerializer.serialize(l.rawUrl),h,Si.IgnoredSameUrlNavigation)),l.resolve(null),Ne}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return v(l).pipe(pe(h=>{let f=this.transitions?.getValue();return this.events.next(new At(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Ne:Promise.resolve(h)}),Jd(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),q(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=U(g({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Ei(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:A,extras:C}=l,D=new At(h,this.urlSerializer.serialize(f),p,A);this.events.next(D);let F=tl(this.rootComponentType).snapshot;return this.currentTransition=s=U(g({},l),{targetSnapshot:F,urlAfterRedirects:f,extras:U(g({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,v(s)}else{let h="";return this.events.next(new Be(l.id,this.urlSerializer.serialize(l.extractedUrl),h,Si.IgnoredByUrlHandlingStrategy)),l.resolve(null),Ne}}),q(l=>{let c=new is(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),O(l=>(this.currentTransition=s=U(g({},l),{guards:fd(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Sd(this.environmentInjector,l=>this.events.next(l)),q(l=>{if(s.guardsResult=l.guardsResult,xt(l.guardsResult))throw sl(this.urlSerializer,l.guardsResult);let c=new ns(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Re(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ne.GuardRejected),!1)),Yn(l=>{if(l.guards.canActivateChecks.length)return v(l).pipe(q(c=>{let u=new ss(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),pe(c=>{let u=!1;return v(c).pipe(Zd(this.paramsInheritanceStrategy,this.environmentInjector),q({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ne.NoDataFromResolver)}}))}),q(c=>{let u=new os(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Yn(l=>{let c=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(q(f=>{u.component=f}),O(()=>{})));for(let f of u.children)h.push(...c(f));return h};return ri(c(l.targetSnapshot.root)).pipe(bn(null),dt(1))}),Yn(()=>this.afterPreactivation()),pe(()=>{let{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?J(u).pipe(O(()=>s)):v(s)}),O(l=>{let c=sd(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=U(g({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),q(()=>{this.events.next(new mr)}),hd(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),dt(1),q({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ce(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),ni(this.transitionAbortSubject.pipe(q(l=>{throw l}))),ii(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",ne.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ct(l=>{if(a=!0,al(l))this.events.next(new $e(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),ld(l)?this.events.next(new vr(l.url)):s.resolve(!1);else{this.events.next(new gr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return Ne}))}))}cancelNavigationTransition(e,t,n){let s=new $e(e.id,this.urlSerializer.serialize(e.extractedUrl),t,n);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function oh(i){return i!==dr}var ah=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:()=>m(lh),providedIn:"root"})}}return i})(),Ss=class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}},lh=(()=>{class i extends Ss{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Jt(i)))(n||i)}})()}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ml=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:()=>m(ch),providedIn:"root"})}}return i})(),ch=(()=>{class i extends ml{constructor(){super(...arguments),this.location=m(ir),this.urlSerializer=m(Sr),this.options=m(Dr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=m(Ms),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Le,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tl(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(t=>{t.type==="popstate"&&e(t.url,t.state)})}handleRouterEvent(e,t){if(e instanceof At)this.stateMemento=this.createStateMemento();else if(e instanceof Be)this.rawUrlTree=t.initialUrl;else if(e instanceof Ei){if(this.urlUpdateStrategy==="eager"&&!t.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl);this.setBrowserUrl(n,t)}}else e instanceof mr?(this.currentUrlTree=t.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl),this.routerState=t.targetRouterState,this.urlUpdateStrategy==="deferred"&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t))):e instanceof $e&&(e.code===ne.GuardRejected||e.code===ne.NoDataFromResolver)?this.restoreHistory(t):e instanceof gr?this.restoreHistory(t,!0):e instanceof Ce&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,t){let n=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl){let s=this.browserPageId,o=g(g({},t.extras.state),this.generateNgRouterState(t.id,s));this.location.replaceState(n,"",o)}else{let s=g(g({},t.extras.state),this.generateNgRouterState(t.id,this.browserPageId+1));this.location.go(n,"",s)}}restoreHistory(e,t=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,s=this.currentPageId-n;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Jt(i)))(n||i)}})()}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),cr=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(cr||{});function vl(i,r){i.events.pipe(Re(e=>e instanceof Ce||e instanceof $e||e instanceof gr||e instanceof Be),O(e=>e instanceof Ce||e instanceof Be?cr.COMPLETE:(e instanceof $e?e.code===ne.Redirect||e.code===ne.SupersededByNewNavigation:!1)?cr.REDIRECTING:cr.FAILED),Re(e=>e!==cr.REDIRECTING),dt(1)).subscribe(()=>{r()})}function uh(i){throw i}var dh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},B=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=m(ci),this.stateManager=m(ml),this.options=m(Dr,{optional:!0})||{},this.pendingTasks=m(Yo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=m(Os),this.urlSerializer=m(Sr),this.location=m(ir),this.urlHandlingStrategy=m(Ms),this._events=new oe,this.errorHandler=this.options.errorHandler||uh,this.navigated=!1,this.routeReuseStrategy=m(ah),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=m(wr,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!m(Oi,{optional:!0}),this.eventsSubscription=new yo,this.isNgZoneEnabled=m(te)instanceof te&&te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(t=>{try{let n=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(n!==null&&s!==null){if(this.stateManager.handleRouterEvent(t,s),t instanceof $e&&t.code!==ne.Redirect&&t.code!==ne.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof Ce)this.navigated=!0;else if(t instanceof vr){let o=this.urlHandlingStrategy.merge(t.url,n.currentRawUrl),a={info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||oh(n.source)};this.scheduleNavigation(o,dr,null,a,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}ph(t)&&this._events.next(t)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),dr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,t)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",t)},0)})}navigateToSyncWithBrowser(e,t,n){let s={replaceUrl:!0},o=n?.navigationId?n:null;if(n){let l=g({},n);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,t,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Is),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){let{relativeTo:n,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=t,c=l?this.currentUrlTree.fragment:o,u=null;switch(a){case"merge":u=g(g({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let f=n?n.snapshot:this.routerState.snapshot.root;h=Ya(f)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),h=this.currentUrlTree.root}return Qa(h,e,u,c??null)}navigateByUrl(e,t={skipLocationChange:!1}){let n=xt(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(s,dr,null,t)}navigate(e,t={skipLocationChange:!1}){return fh(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,t){let n;if(t===!0?n=g({},dh):t===!1?n=g({},hh):n=t,xt(e))return ka(this.currentUrlTree,e,n);let s=this.parseUrl(e);return ka(this.currentUrlTree,s,n)}removeEmptyProps(e){return Object.entries(e).reduce((t,[n,s])=>(s!=null&&(t[n]=s),t),{})}scheduleNavigation(e,t,n,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,l=f});let u=this.pendingTasks.add();return vl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function fh(i){for(let r=0;r<i.length;r++)if(i[r]==null)throw new V(4008,!1)}function ph(i){return!(i instanceof mr)&&!(i instanceof vr)}var Pi=(()=>{class i{constructor(e,t,n,s,o,a){this.router=e,this.route=t,this.tabIndexAttribute=n,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new oe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Ce&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e!=null?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,t,n,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||t||n||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let t=this.href===null?null:zo(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(e,t){let n=this.renderer,s=this.el.nativeElement;t!==null?n.setAttribute(s,e,t):n.removeAttribute(s,e)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(t){return new(t||i)(y(B),y(Se),Oo("tabindex"),y(qe),y(Me),y(rr))}}static{this.\u0275dir=ge({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,n){t&1&&L("click",function(o){return n.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),t&2&&Tn("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Fe.HasDecoratorInputTransform,"preserveFragment","preserveFragment",mt],skipLocationChange:[Fe.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",mt],replaceUrl:[Fe.HasDecoratorInputTransform,"replaceUrl","replaceUrl",mt],routerLink:"routerLink"},standalone:!0,features:[Jo,Te]})}}return i})();var Mi=class{};var gh=(()=>{class i{constructor(e,t,n,s,o){this.router=e,this.injector=n,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Re(e=>e instanceof Ce),ut(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){let n=[];for(let s of t){s.providers&&!s._injector&&(s._injector=Rn(s.providers,e,`Route: ${s.path}`));let o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&n.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&n.push(this.processRoutes(a,s.children??s._loadedRoutes))}return J(n).pipe(yn())}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{let n;t.loadChildren&&t.canLoad===void 0?n=this.loader.loadChildren(e,t):n=v(null);let s=n.pipe(ee(o=>o===null?v(void 0):(t._loadedRoutes=o.routes,t._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(t.loadComponent&&!t._loadedComponent){let o=this.loader.loadComponent(t);return J([s,o]).pipe(yn())}else return s})}static{this.\u0275fac=function(t){return new(t||i)(I(B),I(di),I(ft),I(Mi),I(Ts))}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),yl=new P(""),mh=(()=>{class i{constructor(e,t,n,s,o={}){this.urlSerializer=e,this.transitions=t,this.viewportScroller=n,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=m(ft),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof At?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ce?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Be&&e.code===Si.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof xi&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.zone.runOutsideAngular(()=>d(this,null,function*(){yield new Promise(n=>{setTimeout(()=>{n()}),In(()=>{n()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new xi(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,t))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(t){oi()}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac})}}return i})();function _l(i,...r){return ht([{provide:wr,multi:!0,useValue:i},[],{provide:Se,useFactory:bl,deps:[B]},{provide:jn,multi:!0,useFactory:wl},r.map(e=>e.\u0275providers)])}function bl(i){return i.routerState.root}function Ir(i,r){return{\u0275kind:i,\u0275providers:r}}function wl(){let i=m(si);return r=>{let e=i.get(Nn);if(r!==e.components[0])return;let t=i.get(B),n=i.get(Cl);i.get(ks)===1&&t.initialNavigation(),i.get(Sl,null,Sn.Optional)?.setUpPreloading(),i.get(yl,null,Sn.Optional)?.init(),t.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var Cl=new P("",{factory:()=>new oe}),ks=new P("",{providedIn:"root",factory:()=>1});function vh(){return Ir(2,[{provide:ks,useValue:0},{provide:Pn,multi:!0,deps:[si],useFactory:r=>{let e=r.get(ua,Promise.resolve());return()=>e.then(()=>new Promise(t=>{let n=r.get(B),s=r.get(Cl);vl(n,()=>{t(!0)}),r.get(Os).afterPreactivation=()=>(t(!0),s.closed?v(void 0):s),n.initialNavigation()}))}}])}function yh(){return Ir(3,[{provide:Pn,multi:!0,useFactory:()=>{let r=m(B);return()=>{r.setUpLocationChangeListener()}}},{provide:ks,useValue:2}])}var Sl=new P("");function _h(i){return Ir(0,[{provide:Sl,useExisting:gh},{provide:Mi,useExisting:i}])}function bh(){return Ir(8,[Va,{provide:Oi,useExisting:Va}])}function wh(i){let r=[{provide:pl,useValue:nh},{provide:gl,useValue:g({skipNextTransition:!!i?.skipInitialTransition},i)}];return Ir(9,r)}var Ua=new P("ROUTER_FORROOT_GUARD"),Ch=[ir,{provide:Sr,useClass:fr},B,Er,{provide:Se,useFactory:bl,deps:[B]},Ts,[]],ji=(()=>{class i{constructor(e){}static forRoot(e,t){return{ngModule:i,providers:[Ch,[],{provide:wr,multi:!0,useValue:e},{provide:Ua,useFactory:Ah,deps:[[B,new En,new Ro]]},{provide:Dr,useValue:t||{}},t?.useHash?Eh():xh(),Sh(),t?.preloadingStrategy?_h(t.preloadingStrategy).\u0275providers:[],t?.initialNavigation?Dh(t):[],t?.bindToComponentInputs?bh().\u0275providers:[],t?.enableViewTransitions?wh().\u0275providers:[],Ih()]}}static forChild(e){return{ngModule:i,providers:[{provide:wr,multi:!0,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||i)(I(Ua,8))}}static{this.\u0275mod=be({type:i})}static{this.\u0275inj=_e({})}}return i})();function Sh(){return{provide:yl,useFactory:()=>{let i=m(ma),r=m(te),e=m(Dr),t=m(Os),n=m(Sr);return e.scrollOffset&&i.setOffset(e.scrollOffset),new mh(n,t,i,r,e)}}}function Eh(){return{provide:rr,useClass:ha}}function xh(){return{provide:rr,useClass:da}}function Ah(i){return"guarded"}function Dh(i){return[i.initialNavigation==="disabled"?yh().\u0275providers:[],i.initialNavigation==="enabledBlocking"?vh().\u0275providers:[]]}var La=new P("");function Ih(){return[{provide:La,useFactory:wl},{provide:jn,multi:!0,useExisting:La}]}var Rh="@",Th=(()=>{class i{constructor(e,t,n,s,o){this.doc=e,this.delegate=t,this.zone=n,this.animationType=s,this.moduleImpl=o,this._rendererFactoryPromise=null,this.scheduler=m(qo,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-XHTIDPCK.js")).catch(t=>{throw new V(5300,!1)}).then(({\u0275createEngine:t,\u0275AnimationRendererFactory:n})=>{this._engine=t(this.animationType,this.doc,this.scheduler);let s=new n(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,t){let n=this.delegate.createRenderer(e,t);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let s=new Ps(n);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let a=o.createRenderer(e,t);s.use(a)}).catch(o=>{s.use(n)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(t){oi()}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac})}}return i})(),Ps=class{constructor(r){this.delegate=r,this.replay=[],this.\u0275type=1}use(r){if(this.delegate=r,this.replay!==null){for(let e of this.replay)e(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,e){this.delegate.appendChild(r,e)}insertBefore(r,e,t,n){this.delegate.insertBefore(r,e,t,n)}removeChild(r,e,t){this.delegate.removeChild(r,e,t)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,t,n){this.delegate.setAttribute(r,e,t,n)}removeAttribute(r,e,t){this.delegate.removeAttribute(r,e,t)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,t,n){this.delegate.setStyle(r,e,t,n)}removeStyle(r,e,t){this.delegate.removeStyle(r,e,t)}setProperty(r,e,t){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(r,e,t)),this.delegate.setProperty(r,e,t)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,t){return this.shouldReplay(e)&&this.replay.push(n=>n.listen(r,e,t)),this.delegate.listen(r,e,t)}shouldReplay(r){return this.replay!==null&&r.startsWith(Rh)}};function El(i="animations"){return Wo("NgAsyncAnimations"),ht([{provide:ai,useFactory:(r,e,t)=>new Th(r,e,t,i),deps:[Q,pi,te]},{provide:jo,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Mh=["overlay"],Oh=["*"];function kh(i,r){i&1&&me(0,"div")}function Ph(i,r){if(i&1&&(_(0,"div"),Z(1,kh,1,0,"div",6),E()),i&2){let e=R(2);Xo(e.spinner.class),li("color",e.spinner.color),M(),j("ngForOf",e.spinner.divArray)}}function jh(i,r){if(i&1&&(me(0,"div",7),er(1,"safeHtml")),i&2){let e=R(2);j("innerHTML",tr(1,1,e.template),Ho)}}function Nh(i,r){if(i&1&&(_(0,"div",2,0),Z(2,Ph,2,5,"div",3)(3,jh,2,3,"div",4),_(4,"div",5),ta(5),E()()),i&2){let e=R();li("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),j("@.disabled",e.disableAnimation)("@fadeIn","in"),M(2),j("ngIf",!e.template),M(),j("ngIf",e.template),M(),li("z-index",e.spinner.zIndex)}}var Vh={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},js={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},Ns="primary",Xe=class i{constructor(r){Object.assign(this,r)}static create(r){return!r?.template&&!r?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new i(r)}},Vs=(()=>{class i{constructor(){this.spinnerObservable=new G(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(Re(t=>t&&t.name===e))}show(e=Ns,t){return new Promise((n,s)=>{setTimeout(()=>{t&&Object.keys(t).length?(t.name=e,this.spinnerObservable.next(new Xe(U(g({},t),{show:!0}))),n(!0)):(this.spinnerObservable.next(new Xe({name:e,show:!0})),n(!0))},10)})}hide(e=Ns,t=10){return new Promise((n,s)=>{setTimeout(()=>{this.spinnerObservable.next(new Xe({name:e,show:!1})),n(!0)},t)})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),xl=new P("NGX_SPINNER_CONFIG"),Fh=(()=>{class i{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}static{this.\u0275fac=function(t){return new(t||i)(y(Wn,16))}}static{this.\u0275pipe=To({name:"safeHtml",type:i,pure:!0,standalone:!0})}}return i})(),Al=(()=>{class i{constructor(e,t,n,s){this.spinnerService=e,this.changeDetector=t,this.elementRef=n,this.globalConfig=s,this.disableAnimation=!1,this.spinner=new Xe,this.ngUnsubscribe=new oe,this.setDefaultOptions=()=>{let{type:o}=this.globalConfig??{};this.spinner=Xe.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??o,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=js.BD_COLOR,this.zIndex=js.Z_INDEX,this.color=js.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=Ns,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(ni(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement?!0:e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(let t in e)if(t){let n=e[t];if(n.isFirstChange())return;typeof n.currentValue<"u"&&n.currentValue!==n.previousValue&&n.currentValue!==""&&(this.spinner[t]=n.currentValue,t==="showSpinner"&&(n.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),t==="name"&&this.initObservable())}}getClass(e,t){this.spinner.divCount=Vh[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,o)=>o);let n="";switch(t.toLowerCase()){case"small":n="la-sm";break;case"medium":n="la-2x";break;case"large":n="la-3x";break;default:break}return"la-"+e+" "+n}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(t){return new(t||i)(y(Vs),y(Ze),y(Me),y(xl,8))}}static{this.\u0275cmp=ae({type:i,selectors:[["ngx-spinner"]],viewQuery:function(t,n){if(t&1&&ra(Mh,5),t&2){let s;Mn(s=On())&&(n.spinnerDOM=s.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[Te,le],ngContentSelectors:Oh,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,n){t&1&&(ea(),Z(0,Nh,6,12,"div",1)),t&2&&j("ngIf",n.spinner.show)},dependencies:[Fh,_t,yt],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[ya("fadeIn",[_a("in",hi({opacity:1})),Un(":enter",[hi({opacity:0}),Fn(300)]),Un(":leave",Fn(200,hi({opacity:0})))])]},changeDetection:0})}}return i})(),Dl=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:xl,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=be({type:i})}static{this.\u0275inj=_e({imports:[ke]})}}return i})();var jl=(()=>{class i{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(t){return new(t||i)(y(qe),y(Me))}}static{this.\u0275dir=ge({type:i})}}return i})(),Lh=(()=>{class i extends jl{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Jt(i)))(n||i)}})()}static{this.\u0275dir=ge({type:i,features:[Qt]})}}return i})(),Nl=new P("");var $h={provide:Nl,useExisting:Cn(()=>Tt),multi:!0};function Bh(){let i=vt()?vt().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Hh=new P(""),Tt=(()=>{class i extends jl{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Bh())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(t){return new(t||i)(y(qe),y(Me),y(Hh,8))}}static{this.\u0275dir=ge({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,n){t&1&&L("input",function(o){return n._handleInput(o.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(o){return n._compositionEnd(o.target.value)})},features:[kn([$h]),Qt]})}}return i})();var zh=new P(""),Gh=new P("");function Vl(i){return i!=null}function Fl(i){return ui(i)?J(i):i}function Ul(i){let r={};return i.forEach(e=>{r=e!=null?g(g({},r),e):r}),Object.keys(r).length===0?null:r}function Ll(i,r){return r.map(e=>e(i))}function qh(i){return!i.validate}function $l(i){return i.map(r=>qh(r)?r:e=>r.validate(e))}function Wh(i){if(!i)return null;let r=i.filter(Vl);return r.length==0?null:function(e){return Ul(Ll(e,r))}}function Bl(i){return i!=null?Wh($l(i)):null}function Kh(i){if(!i)return null;let r=i.filter(Vl);return r.length==0?null:function(e){let t=Ll(e,r).map(Fl);return So(t).pipe(O(Ul))}}function Hl(i){return i!=null?Kh($l(i)):null}function Il(i,r){return i===null?[r]:Array.isArray(i)?[...i,r]:[i,r]}function Jh(i){return i._rawValidators}function Zh(i){return i._rawAsyncValidators}function Fs(i){return i?Array.isArray(i)?i:[i]:[]}function Fi(i,r){return Array.isArray(i)?i.includes(r):i===r}function Rl(i,r){let e=Fs(r);return Fs(i).forEach(n=>{Fi(e,n)||e.push(n)}),e}function Tl(i,r){return Fs(r).filter(e=>!Fi(i,e))}var Ui=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Bl(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Hl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r=void 0){this.control&&this.control.reset(r)}hasError(r,e){return this.control?this.control.hasError(r,e):!1}getError(r,e){return this.control?this.control.getError(r,e):null}},Us=class extends Ui{get formDirective(){return null}get path(){return null}},Mr=class extends Ui{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ls=class{constructor(r){this._cd=r}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Yh={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Kg=U(g({},Yh),{"[class.ng-submitted]":"isSubmitted"}),Li=(()=>{class i extends Ls{constructor(e){super(e)}static{this.\u0275fac=function(t){return new(t||i)(y(Mr,2))}}static{this.\u0275dir=ge({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,n){t&2&&Qo("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[Qt]})}}return i})();var Rr="VALID",Vi="INVALID",Rt="PENDING",Tr="DISABLED";function Qh(i){return($i(i)?i.validators:i)||null}function Xh(i){return Array.isArray(i)?Bl(i):i||null}function ef(i,r){return($i(r)?r.asyncValidators:i)||null}function tf(i){return Array.isArray(i)?Hl(i):i||null}function $i(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}var $s=class{constructor(r,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(r),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Rr}get invalid(){return this.status===Vi}get pending(){return this.status==Rt}get disabled(){return this.status===Tr}get enabled(){return this.status!==Tr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._assignValidators(r)}setAsyncValidators(r){this._assignAsyncValidators(r)}addValidators(r){this.setValidators(Rl(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Rl(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Tl(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Tl(r,this._rawAsyncValidators))}hasValidator(r){return Fi(this._rawValidators,r)}hasAsyncValidator(r){return Fi(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=Rt,r.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){let e=this._parentMarkedDirty(r.onlySelf);this.status=Tr,this.errors=null,this._forEachChild(t=>{t.disable(U(g({},r),{onlySelf:!0}))}),this._updateValue(),r.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(g({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(r={}){let e=this._parentMarkedDirty(r.onlySelf);this.status=Rr,this._forEachChild(t=>{t.enable(U(g({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(U(g({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rr||this.status===Rt)&&this._runAsyncValidator(r.emitEvent)),r.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tr:Rr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=Rt,this._hasOwnPendingAsyncValidator=!0;let e=Fl(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(e.emitEvent!==!1)}get(r){let e=r;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((t,n)=>t&&t._find(n),this)}getError(r,e){let t=e?this.get(e):this;return t&&t.errors?t.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?Tr:this.errors?Vi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rt)?Rt:this._anyControlsHaveStatus(Vi)?Vi:Rr}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){$i(r)&&r.updateOn!=null&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){let e=this._parent&&this._parent.dirty;return!r&&!!e&&!this._parent._anyControlsDirty()}_find(r){return null}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=Xh(this._rawValidators)}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=tf(this._rawAsyncValidators)}};var zl=new P("CallSetDisabledState",{providedIn:"root",factory:()=>Bs}),Bs="always";function rf(i,r){return[...r.path,i]}function nf(i,r,e=Bs){of(i,r),r.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&r.valueAccessor.setDisabledState?.(i.disabled),af(i,r),cf(i,r),lf(i,r),sf(i,r)}function Ml(i,r){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function sf(i,r){if(r.valueAccessor.setDisabledState){let e=t=>{r.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(e),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function of(i,r){let e=Jh(i);r.validator!==null?i.setValidators(Il(e,r.validator)):typeof e=="function"&&i.setValidators([e]);let t=Zh(i);r.asyncValidator!==null?i.setAsyncValidators(Il(t,r.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let n=()=>i.updateValueAndValidity();Ml(r._rawValidators,n),Ml(r._rawAsyncValidators,n)}function af(i,r){r.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Gl(i,r)})}function lf(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Gl(i,r),i.updateOn!=="submit"&&i.markAsTouched()})}function Gl(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function cf(i,r){let e=(t,n)=>{r.valueAccessor.writeValue(t),n&&r.viewToModelUpdate(t)};i.registerOnChange(e),r._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function uf(i,r){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(r,e.currentValue)}function df(i){return Object.getPrototypeOf(i.constructor)===Lh}function hf(i,r){if(!r)return null;Array.isArray(r);let e,t,n;return r.forEach(s=>{s.constructor===Tt?e=s:df(s)?t=s:n=s}),n||t||e||null}function Ol(i,r){let e=i.indexOf(r);e>-1&&i.splice(e,1)}function kl(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var ff=class extends $s{constructor(r=null,e,t){super(Qh(e),ef(t,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$i(e)&&(e.nonNullable||e.initialValueIsDefault)&&(kl(r)?this.defaultValue=r.value:this.defaultValue=r)}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=this.defaultValue,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Ol(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Ol(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(r){kl(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}};var pf={provide:Mr,useExisting:Cn(()=>Or)},Pl=Promise.resolve(),Or=(()=>{class i extends Mr{constructor(e,t,n,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new ff,this._registered=!1,this.name="",this.update=new Oe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=hf(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),uf(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Pl.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let t=e.isDisabled.currentValue,n=t!==0&&mt(t);Pl.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?rf(e,this._parent):[e]}static{this.\u0275fac=function(t){return new(t||i)(y(Us,9),y(zh,10),y(Gh,10),y(Nl,10),y(Ze,8),y(zl,8))}}static{this.\u0275dir=ge({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Fe.None,"disabled","isDisabled"],model:[Fe.None,"ngModel","model"],options:[Fe.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[kn([pf]),Qt,Te]})}}return i})();var gf=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=be({type:i})}static{this.\u0275inj=_e({})}}return i})();var Mt=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:zl,useValue:e.callSetDisabledState??Bs}]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=be({type:i})}static{this.\u0275inj=_e({imports:[gf]})}}return i})();var Wl=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...e)=>import("./chunk-MXHTO7MR.js").then(({default:t})=>t(...e)):r=fetch,(...e)=>r(...e)};var kr=class extends Error{constructor(r,e="FunctionsError",t){super(r),this.name=e,this.context=t}},Bi=class extends kr{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}},Hi=class extends kr{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}},zi=class extends kr{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}},Hs=function(i){return i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2",i}(Hs||{});var mf=function(i,r,e,t){function n(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(t.next(u))}catch(h){o(h)}}function l(u){try{c(t.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((t=t.apply(i,r||[])).next())})},Pr=class{constructor(r,{headers:e={},customFetch:t,region:n=Hs.Any}={}){this.url=r,this.headers=e,this.region=n,this.fetch=Wl(t)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,e={}){var t;return mf(this,void 0,void 0,function*(){try{let{headers:n,method:s,body:o}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));let u=yield this.fetch(`${this.url}/${r}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(A=>{throw new Bi(A)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new Hi(u);if(!u.ok)throw new zi(u);let f=((t=u.headers.get("Content-Type"))!==null&&t!==void 0?t:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}};var oc=vo(sc(),1),{PostgrestClient:ac,PostgrestQueryBuilder:pm,PostgrestFilterBuilder:gm,PostgrestTransformBuilder:mm,PostgrestBuilder:vm}=oc.default;var lc="2.10.9";var cc={"X-Client-Info":`realtime-js/${lc}`},uc="1.0.0",Ki=1e4,dc=1e3,kt=function(i){return i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed",i}(kt||{}),se=function(i){return i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving",i}(se||{}),ue=function(i){return i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token",i}(ue||{}),to=function(i){return i.websocket="websocket",i}(to||{}),et=function(i){return i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed",i}(et||{});var Ji=class{constructor(){this.HEADER_LENGTH=1}decode(r,e){return r.constructor===ArrayBuffer?e(this._binaryDecode(r)):e(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){let e=new DataView(r),t=new TextDecoder;return this._decodeBroadcast(r,e,t)}_decodeBroadcast(r,e,t){let n=e.getUint8(1),s=e.getUint8(2),o=this.HEADER_LENGTH+2,a=t.decode(r.slice(o,o+n));o=o+n;let l=t.decode(r.slice(o,o+s));o=o+s;let c=JSON.parse(t.decode(r.slice(o,r.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Pt=class{constructor(r,e){this.callback=r,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var N=function(i){return i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange",i}(N||{}),io=(i,r,e={})=>{var t;let n=(t=e.skipTypes)!==null&&t!==void 0?t:[];return Object.keys(r).reduce((s,o)=>(s[o]=If(o,i,r,n),s),{})},If=(i,r,e,t)=>{let n=r.find(a=>a.name===i),s=n?.type,o=e[i];return s&&!t.includes(s)?hc(s,o):ro(o)},hc=(i,r)=>{if(i.charAt(0)==="_"){let e=i.slice(1,i.length);return Of(r,e)}switch(i){case N.bool:return Rf(r);case N.float4:case N.float8:case N.int2:case N.int4:case N.int8:case N.numeric:case N.oid:return Tf(r);case N.json:case N.jsonb:return Mf(r);case N.timestamp:return kf(r);case N.abstime:case N.date:case N.daterange:case N.int4range:case N.int8range:case N.money:case N.reltime:case N.text:case N.time:case N.timestamptz:case N.timetz:case N.tsrange:case N.tstzrange:return ro(r);default:return ro(r)}},ro=i=>i,Rf=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Tf=i=>{if(typeof i=="string"){let r=parseFloat(i);if(!Number.isNaN(r))return r}return i},Mf=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},Of=(i,r)=>{if(typeof i!="string")return i;let e=i.length-1,t=i[e];if(i[0]==="{"&&t==="}"){let s,o=i.slice(1,e);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>hc(r,a))}return i},kf=i=>typeof i=="string"?i.replace(" ","T"):i,Zi=i=>{let r=i;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};var jt=class{constructor(r,e,t={},n=Ki){this.channel=r,this.event=e,this.payload=t,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,e){var t;return this._hasReceived(r)&&e((t=this.receivedResp)===null||t===void 0?void 0:t.response),this.recHooks.push({status:r,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let r=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:e}){this.recHooks.filter(t=>t.status===r).forEach(t=>t.callback(e))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}};var $r=class i{constructor(r,e){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let t=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(t.state,{},n=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=i.syncState(this.state,n,s,o),this.pendingDiffs.forEach(l=>{this.state=i.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(t.diff,{},n=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=i.syncDiff(this.state,n,s,o),a())}),this.onJoin((n,s,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:s,newPresences:o})}),this.onLeave((n,s,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,e,t,n){let s=this.cloneDeep(r),o=this.transformState(e),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{let h=s[c];if(h){let f=u.map(D=>D.presence_ref),p=h.map(D=>D.presence_ref),A=u.filter(D=>p.indexOf(D.presence_ref)<0),C=h.filter(D=>f.indexOf(D.presence_ref)<0);A.length>0&&(a[c]=A),C.length>0&&(l[c]=C)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},t,n)}static syncDiff(r,e,t,n){let{joins:s,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return t||(t=()=>{}),n||(n=()=>{}),this.map(s,(a,l)=>{var c;let u=(c=r[a])!==null&&c!==void 0?c:[];if(r[a]=this.cloneDeep(l),u.length>0){let h=r[a].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);r[a].unshift(...f)}t(a,u,l)}),this.map(o,(a,l)=>{let c=r[a];if(!c)return;let u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),r[a]=c,n(a,c,l),c.length===0&&delete r[a]}),r}static map(r,e){return Object.getOwnPropertyNames(r).map(t=>e(t,r[t]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((e,t)=>{let n=r[t];return"metas"in n?e[t]=n.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):e[t]=n,e},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Br=class i{constructor(r,e={config:{}},t){this.topic=r,this.params=e,this.socket=t,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new jt(this,ue.join,this.params,this.timeout),this.rejoinTimer=new Pt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ue.reply,{},(n,s)=>{this._trigger(this._replyEventName(s),n)}),this.presence=new $r(this),this.broadcastEndpointURL=Zi(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,e=this.timeout){var t,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>r&&r("CHANNEL_ERROR",u)),this._onClose(()=>r&&r("CLOSED"));let l={},c={broadcast:s,presence:o,postgres_changes:(n=(t=this.bindings.postgres_changes)===null||t===void 0?void 0:t.map(u=>u.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",({postgres_changes:u})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){r&&r("SUBSCRIBED");return}else{let f=this.bindings.postgres_changes,p=(h=f?.length)!==null&&h!==void 0?h:0,A=[];for(let C=0;C<p;C++){let D=f[C],{filter:{event:F,schema:De,table:Ie,filter:fe}}=D,Y=u&&u[C];if(Y&&Y.event===F&&Y.schema===De&&Y.table===Ie&&Y.filter===fe)A.push(Object.assign(Object.assign({},D),{id:Y.id}));else{this.unsubscribe(),r&&r("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,r&&r("SUBSCRIBED");return}}).receive("error",u=>{r&&r("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{r&&r("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(t){return d(this,arguments,function*(r,e={}){return yield this.send({type:"presence",event:"track",payload:r},e.timeout||this.timeout)})}untrack(){return d(this,arguments,function*(r={}){return yield this.send({type:"presence",event:"untrack"},r)})}on(r,e,t){return this._on(r,e,t)}send(t){return d(this,arguments,function*(r,e={}){var n,s;if(!this._canPush()&&r.type==="broadcast"){let{event:o,payload:a}=r,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{let c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=e.timeout)!==null&&n!==void 0?n:this.timeout);return yield(s=c.body)===null||s===void 0?void 0:s.cancel(),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;let u=this._push(r.type,r,e.timeout||this.timeout);r.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=se.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ue.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(t=>{let n=new jt(this,ue.leave,{},r);n.receive("ok",()=>{e(),t("ok")}).receive("timeout",()=>{e(),t("timed out")}).receive("error",()=>{t("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_fetchWithTimeout(r,e,t){return d(this,null,function*(){let n=new AbortController,s=setTimeout(()=>n.abort(),t),o=yield this.socket.fetch(r,Object.assign(Object.assign({},e),{signal:n.signal}));return clearTimeout(s),o})}_push(r,e,t=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new jt(this,r,e,t);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(r,e,t){return e}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,e,t){var n,s;let o=r.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ue;if(t&&[a,l,c,u].indexOf(o)>=0&&t!==this._joinRef())return;let f=this._onMessage(o,e,t);if(e&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var A,C,D;return((A=p.filter)===null||A===void 0?void 0:A.event)==="*"||((D=(C=p.filter)===null||C===void 0?void 0:C.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===o}).map(p=>p.callback(f,t)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var A,C,D,F,De,Ie;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){let fe=p.id,Y=(A=p.filter)===null||A===void 0?void 0:A.event;return fe&&((C=e.ids)===null||C===void 0?void 0:C.includes(fe))&&(Y==="*"||Y?.toLocaleLowerCase()===((D=e.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{let fe=(De=(F=p?.filter)===null||F===void 0?void 0:F.event)===null||De===void 0?void 0:De.toLocaleLowerCase();return fe==="*"||fe===((Ie=e?.event)===null||Ie===void 0?void 0:Ie.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){let A=f.data,{schema:C,table:D,commit_timestamp:F,type:De,errors:Ie}=A;f=Object.assign(Object.assign({},{schema:C,table:D,commit_timestamp:F,eventType:De,new:{},old:{},errors:Ie}),this._getPayloadRecords(A))}p.callback(f,t)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,e,t){let n=r.toLocaleLowerCase(),s={type:n,filter:e,callback:t};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(r,e){let t=r.toLocaleLowerCase();return this.bindings[t]=this.bindings[t].filter(n=>{var s;return!(((s=n.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===t&&i.isEqual(n.filter,e))}),this}static isEqual(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(let t in r)if(r[t]!==e[t])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(ue.close,{},r)}_onError(r){this._on(ue.error,{},e=>r(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(r))}_getPayloadRecords(r){let e={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(e.new=io(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(e.old=io(r.columns,r.old_record)),e}};var jf=()=>{},Nf=typeof WebSocket<"u",Vf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Hr=class{constructor(r,e){var t;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=cc,this.params={},this.timeout=Ki,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=jf,this.conn=null,this.sendBuffer=[],this.serializer=new Ji,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>import("./chunk-MXHTO7MR.js").then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${r}/${to.websocket}`,this.httpEndpoint=Zi(r),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let n=(t=e?.params)===null||t===void 0?void 0:t.apikey;if(n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=e?.encode?e.encode:(s,o)=>o(JSON.stringify(s)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Pt(()=>d(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Nf){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new no(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-B6SUMW3L.js").then(({default:r})=>{this.conn=new r(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(r,e){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(r){return d(this,null,function*(){let e=yield r.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return d(this,null,function*(){let r=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),r})}log(r,e,t){this.logger(r,e,t)}connectionState(){switch(this.conn&&this.conn.readyState){case kt.connecting:return et.Connecting;case kt.open:return et.Open;case kt.closing:return et.Closing;default:return et.Closed}}isConnected(){return this.connectionState()===et.Open}channel(r,e={config:{}}){let t=new Br(`realtime:${r}`,e,this);return this.channels.push(t),t}push(r){let{topic:e,event:t,payload:n,ref:s}=r,o=()=>{this.encode(r,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${t} (${s})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(r){if(r){let e=null;try{e=JSON.parse(atob(r.split(".")[1]))}catch{}if(e&&e.exp&&!(Math.floor(Date.now()/1e3)-e.exp<0)){this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`);return}}this.accessToken=r,this.channels.forEach(e=>{r&&e.updateJoinPayload({access_token:r}),e.joinedOnce&&e._isJoined()&&e._push(ue.access_token,{access_token:r})})}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let e=this.channels.find(t=>t.topic===r&&(t._isJoined()||t._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${r}"`),e.unsubscribe())}_remove(r){this.channels=this.channels.filter(e=>e._joinRef()!==r._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uc}))}_onConnMessage(r){this.decode(r.data,e=>{let{topic:t,event:n,payload:s,ref:o}=e;(o&&o===this.pendingHeartbeatRef||n===s?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${t} ${n} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(t)).forEach(a=>a._trigger(n,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){return d(this,null,function*(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(r=>r())})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(r))}_onConnError(r){this.log("transport",r.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(ue.error))}_appendParams(r,e){if(Object.keys(e).length===0)return r;let t=r.match(/\?/)?"&":"?",n=new URLSearchParams(e);return`${r}${t}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_sendHeartbeat(){var r;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(r=this.conn)===null||r===void 0||r.close(dc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(r){let e;if(r)e=r;else{let t=new Blob([Vf],{type:"application/javascript"});e=URL.createObjectURL(t)}return e}};var no=class{constructor(r,e,t){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=kt.connecting,this.send=()=>{},this.url=null,this.url=r,this.close=t.close}};var Nt=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function $(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Yi=class extends Nt{constructor(r,e){super(r),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},tt=class extends Nt{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};var Ff=function(i,r,e,t){function n(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(t.next(u))}catch(h){o(h)}}function l(u){try{c(t.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((t=t.apply(i,r||[])).next())})},Xi=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...e)=>import("./chunk-MXHTO7MR.js").then(({default:t})=>t(...e)):r=fetch,(...e)=>r(...e)},fc=()=>Ff(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MXHTO7MR.js")).Response:Response}),Qi=i=>{if(Array.isArray(i))return i.map(e=>Qi(e));if(typeof i=="function"||i!==Object(i))return i;let r={};return Object.entries(i).forEach(([e,t])=>{let n=e.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));r[n]=Qi(t)}),r};var rt=function(i,r,e,t){function n(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(t.next(u))}catch(h){o(h)}}function l(u){try{c(t.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((t=t.apply(i,r||[])).next())})},so=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Uf=(i,r,e)=>rt(void 0,void 0,void 0,function*(){let t=yield fc();i instanceof t&&!e?.noResolveJson?i.json().then(n=>{r(new Yi(so(n),i.status||500))}).catch(n=>{r(new tt(so(n),n))}):r(new tt(so(i),i))}),Lf=(i,r,e,t)=>{let n={method:i,headers:r?.headers||{}};return i==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},r?.headers),t&&(n.body=JSON.stringify(t)),Object.assign(Object.assign({},n),e))};function zr(i,r,e,t,n,s){return rt(this,void 0,void 0,function*(){return new Promise((o,a)=>{i(e,Lf(r,t,n,s)).then(l=>{if(!l.ok)throw l;return t?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Uf(l,a,t))})})}function Vt(i,r,e,t){return rt(this,void 0,void 0,function*(){return zr(i,"GET",r,e,t)})}function xe(i,r,e,t,n){return rt(this,void 0,void 0,function*(){return zr(i,"POST",r,t,n,e)})}function pc(i,r,e,t,n){return rt(this,void 0,void 0,function*(){return zr(i,"PUT",r,t,n,e)})}function gc(i,r,e,t){return rt(this,void 0,void 0,function*(){return zr(i,"HEAD",r,Object.assign(Object.assign({},e),{noResolveJson:!0}),t)})}function en(i,r,e,t,n){return rt(this,void 0,void 0,function*(){return zr(i,"DELETE",r,t,n,e)})}var X=function(i,r,e,t){function n(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(t.next(u))}catch(h){o(h)}}function l(u){try{c(t.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((t=t.apply(i,r||[])).next())})},$f={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},tn=class{constructor(r,e={},t,n){this.url=r,this.headers=e,this.bucketId=t,this.fetch=Xi(n)}uploadOrUpdate(r,e,t,n){return X(this,void 0,void 0,function*(){try{let s,o=Object.assign(Object.assign({},mc),n),a=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(o.upsert)}),l=o.metadata;typeof Blob<"u"&&t instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",t)):typeof FormData<"u"&&t instanceof FormData?(s=t,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=t,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:r,body:s,headers:a},o?.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if($(s))return{data:null,error:s};throw s}})}upload(r,e,t){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,e,t)})}uploadToSignedUrl(r,e,t,n){return X(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(r),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:mc.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&t instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",t)):typeof FormData<"u"&&t instanceof FormData?(l=t,l.append("cacheControl",c.cacheControl)):(l=t,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield h.json();return h.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if($(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(r,e){return X(this,void 0,void 0,function*(){try{let t=this._getFinalPath(r),n=Object.assign({},this.headers);e?.upsert&&(n["x-upsert"]="true");let s=yield xe(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:n}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Nt("No token returned by API");return{data:{signedUrl:o.toString(),path:r,token:a},error:null}}catch(t){if($(t))return{data:null,error:t};throw t}})}update(r,e,t){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,e,t)})}move(r,e,t){return X(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}})}copy(r,e,t){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}})}createSignedUrl(r,e,t){return X(this,void 0,void 0,function*(){try{let n=this._getFinalPath(r),s=yield xe(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:e},t?.transform?{transform:t.transform}:{}),{headers:this.headers}),o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}})}createSignedUrls(r,e,t){return X(this,void 0,void 0,function*(){try{let n=yield xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:r},{headers:this.headers}),s=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}})}download(r,e){return X(this,void 0,void 0,function*(){let n=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"";try{let a=this._getFinalPath(r);return{data:yield(yield Vt(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if($(a))return{data:null,error:a};throw a}})}info(r){return X(this,void 0,void 0,function*(){let e=this._getFinalPath(r);try{let t=yield Vt(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Qi(t),error:null}}catch(t){if($(t))return{data:null,error:t};throw t}})}exists(r){return X(this,void 0,void 0,function*(){let e=this._getFinalPath(r);try{return yield gc(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(t){if($(t)&&t instanceof tt){let n=t.originalError;if([400,404].includes(n?.status))return{data:!1,error:t}}throw t}})}getPublicUrl(r,e){let t=this._getFinalPath(r),n=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${t}${c}`)}}}remove(r){return X(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(e){if($(e))return{data:null,error:e};throw e}})}list(r,e,t){return X(this,void 0,void 0,function*(){try{let n=Object.assign(Object.assign(Object.assign({},$f),e),{prefix:r||""});return{data:yield xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){let e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};var vc="2.7.1";var yc={"X-Client-Info":`storage-js/${vc}`};var Ft=function(i,r,e,t){function n(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(t.next(u))}catch(h){o(h)}}function l(u){try{c(t.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((t=t.apply(i,r||[])).next())})},rn=class{constructor(r,e={},t){this.url=r,this.headers=Object.assign(Object.assign({},yc),e),this.fetch=Xi(t)}listBuckets(){return Ft(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}})}getBucket(r){return Ft(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(e){if($(e))return{data:null,error:e};throw e}})}createBucket(r,e={public:!1}){return Ft(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if($(t))return{data:null,error:t};throw t}})}updateBucket(r,e){return Ft(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if($(t))return{data:null,error:t};throw t}})}emptyBucket(r){return Ft(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(e){if($(e))return{data:null,error:e};throw e}})}deleteBucket(r){return Ft(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(e){if($(e))return{data:null,error:e};throw e}})}};var Gr=class extends rn{constructor(r,e={},t){super(r,e,t)}from(r){return new tn(this.url,this.headers,r,this.fetch)}};var _c="2.46.2";var qr="";typeof Deno<"u"?qr="deno":typeof document<"u"?qr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qr="react-native":qr="node";var Bf={"X-Client-Info":`supabase-js-${qr}/${_c}`},bc={headers:Bf},wc={schema:"public"},Cc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sc={};Ca();var Hf=function(i,r,e,t){function n(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(t.next(u))}catch(h){o(h)}}function l(u){try{c(t.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((t=t.apply(i,r||[])).next())})},zf=i=>{let r;return i?r=i:typeof fetch>"u"?r=ba:r=fetch,(...e)=>r(...e)},Gf=()=>typeof Headers>"u"?wa:Headers,Ec=(i,r,e)=>{let t=zf(e),n=Gf();return(s,o)=>Hf(void 0,void 0,void 0,function*(){var a;let l=(a=yield r())!==null&&a!==void 0?a:i,c=new n(o?.headers);return c.has("apikey")||c.set("apikey",i),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),t(s,Object.assign(Object.assign({},o),{headers:c}))})};var qf=function(i,r,e,t){function n(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(t.next(u))}catch(h){o(h)}}function l(u){try{c(t.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((t=t.apply(i,r||[])).next())})};function xc(i){return i.replace(/\/$/,"")}function Ac(i,r){let{db:e,auth:t,realtime:n,global:s}=i,{db:o,auth:a,realtime:l,global:c}=r,u={db:Object.assign(Object.assign({},o),e),auth:Object.assign(Object.assign({},a),t),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),s),accessToken:()=>qf(this,void 0,void 0,function*(){return""})};return i.accessToken?u.accessToken=i.accessToken:delete u.accessToken,u}var nn="2.65.1";var Dc="http://localhost:9999",Ic="supabase.auth.token";var Rc={"X-Client-Info":`gotrue-js/${nn}`},oo=10;var Wr="X-Supabase-Api-Version",ao={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Tc(i){return Math.round(Date.now()/1e3)+i}function Mc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){let r=Math.random()*16|0;return(i=="x"?r:r&3|8).toString(16)})}var de=()=>typeof document<"u",it={tested:!1,writable:!1},ze=()=>{if(!de())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(it.tested)return it.writable;let i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),it.tested=!0,it.writable=!0}catch{it.tested=!0,it.writable=!1}return it.writable};function sn(i){let r={},e=new URL(i);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((n,s)=>{r[s]=n})}catch{}return e.searchParams.forEach((t,n)=>{r[n]=t}),r}var on=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...e)=>import("./chunk-MXHTO7MR.js").then(({default:t})=>t(...e)):r=fetch,(...e)=>r(...e)},Oc=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",lo=(i,r,e)=>d(void 0,null,function*(){yield i.setItem(r,JSON.stringify(e))}),Jr=(i,r)=>d(void 0,null,function*(){let e=yield i.getItem(r);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),Zr=(i,r)=>d(void 0,null,function*(){yield i.removeItem(r)});function Wf(i){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="",t,n,s,o,a,l,c,u=0;for(i=i.replace("-","+").replace("_","/");u<i.length;)o=r.indexOf(i.charAt(u++)),a=r.indexOf(i.charAt(u++)),l=r.indexOf(i.charAt(u++)),c=r.indexOf(i.charAt(u++)),t=o<<2|a>>4,n=(a&15)<<4|l>>2,s=(l&3)<<6|c,e=e+String.fromCharCode(t),l!=64&&n!=0&&(e=e+String.fromCharCode(n)),c!=64&&s!=0&&(e=e+String.fromCharCode(s));return e}var Kr=class i{constructor(){this.promise=new i.promiseConstructor((r,e)=>{this.resolve=r,this.reject=e})}};Kr.promiseConstructor=Promise;function co(i){let r=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=i.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!r.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");let t=e[1];return JSON.parse(Wf(t))}function kc(i){return d(this,null,function*(){return yield new Promise(r=>{setTimeout(()=>r(null),i)})})}function Pc(i,r){return new Promise((t,n)=>{d(this,null,function*(){for(let s=0;s<1/0;s++)try{let o=yield i(s);if(!r(s,null,o)){t(o);return}}catch(o){if(!r(s,o)){n(o);return}}})})}function Kf(i){return("0"+i.toString(16)).substr(-2)}function Jf(){let r=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,n="";for(let s=0;s<56;s++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(r),Array.from(r,Kf).join("")}function Zf(i){return d(this,null,function*(){let e=new TextEncoder().encode(i),t=yield crypto.subtle.digest("SHA-256",e),n=new Uint8Array(t);return Array.from(n).map(s=>String.fromCharCode(s)).join("")})}function Yf(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Qf(i){return d(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;let e=yield Zf(i);return Yf(e)})}function nt(i,r,e=!1){return d(this,null,function*(){let t=Jf(),n=t;e&&(n+="/PASSWORD_RECOVERY"),yield lo(i,`${r}-code-verifier`,n);let s=yield Qf(t);return[s,t===s?"plain":"s256"]})}var Xf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jc(i){let r=i.headers.get(Wr);if(!r||!r.match(Xf))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}var Yr=class extends Error{constructor(r,e,t){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=t}};function w(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}var an=class extends Yr{constructor(r,e,t){super(r,e,t),this.name="AuthApiError",this.status=e,this.code=t}};function Nc(i){return w(i)&&i.name==="AuthApiError"}var Ut=class extends Yr{constructor(r,e){super(r),this.name="AuthUnknownError",this.originalError=e}},Pe=class extends Yr{constructor(r,e,t,n){super(r,t,n),this.name=e,this.status=t}},he=class extends Pe{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Vc(i){return w(i)&&i.name==="AuthSessionMissingError"}var Lt=class extends Pe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},st=class extends Pe{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}},ot=class extends Pe{constructor(r,e=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Qr=class extends Pe{constructor(r,e=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},$t=class extends Pe{constructor(r,e){super(r,"AuthRetryableFetchError",e,void 0)}};function ln(i){return w(i)&&i.name==="AuthRetryableFetchError"}var Xr=class extends Pe{constructor(r,e,t){super(r,"AuthWeakPasswordError",e,"weak_password"),this.reasons=t}};var ep=function(i,r){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&r.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(i);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(i,t[n])&&(e[t[n]]=i[t[n]]);return e},at=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),tp=[502,503,504];function Fc(i){return d(this,null,function*(){var r;if(!Oc(i))throw new $t(at(i),0);if(tp.includes(i.status))throw new $t(at(i),i.status);let e;try{e=yield i.json()}catch(s){throw new Ut(at(s),s)}let t,n=jc(i);if(n&&n.getTime()>=ao["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?t=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(t=e.error_code),t){if(t==="weak_password")throw new Xr(at(e),i.status,((r=e.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(t==="session_not_found")throw new he}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Xr(at(e),i.status,e.weak_password.reasons);throw new an(at(e),i.status||500,t)})}var rp=(i,r,e,t)=>{let n={method:i,headers:r?.headers||{}};return i==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),n.body=JSON.stringify(t),Object.assign(Object.assign({},n),e))};function x(i,r,e,t){return d(this,null,function*(){var n;let s=Object.assign({},t?.headers);s[Wr]||(s[Wr]=ao["2024-01-01"].name),t?.jwt&&(s.Authorization=`Bearer ${t.jwt}`);let o=(n=t?.query)!==null&&n!==void 0?n:{};t?.redirectTo&&(o.redirect_to=t.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield ip(i,r,e+a,{headers:s,noResolveJson:t?.noResolveJson},{},t?.body);return t?.xform?t?.xform(l):{data:Object.assign({},l),error:null}})}function ip(i,r,e,t,n,s){return d(this,null,function*(){let o=rp(r,t,n,s),a;try{a=yield i(e,Object.assign({},o))}catch(l){throw console.error(l),new $t(at(l),0)}if(a.ok||(yield Fc(a)),t?.noResolveJson)return a;try{return yield a.json()}catch(l){yield Fc(l)}})}function je(i){var r;let e=null;np(i)&&(e=Object.assign({},i),i.expires_at||(e.expires_at=Tc(i.expires_in)));let t=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:e,user:t},error:null}}function uo(i){let r=je(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((e,t)=>e&&typeof t=="string",!0)&&(r.data.weak_password=i.weak_password),r}function Ae(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function Uc(i){return{data:i,error:null}}function Lc(i){let{action_link:r,email_otp:e,hashed_token:t,redirect_to:n,verification_type:s}=i,o=ep(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:r,email_otp:e,hashed_token:t,redirect_to:n,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function $c(i){return i}function np(i){return i.access_token&&i.refresh_token&&i.expires_in}var sp=function(i,r){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&r.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(i);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(i,t[n])&&(e[t[n]]=i[t[n]]);return e},Bt=class{constructor({url:r="",headers:e={},fetch:t}){this.url=r,this.headers=e,this.fetch=on(t),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r,e="global"){return d(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(t){if(w(t))return{data:null,error:t};throw t}})}inviteUserByEmail(t){return d(this,arguments,function*(r,e={}){try{return yield x(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Ae})}catch(n){if(w(n))return{data:{user:null},error:n};throw n}})}generateLink(r){return d(this,null,function*(){try{let{options:e}=r,t=sp(r,["options"]),n=Object.assign(Object.assign({},t),e);return"newEmail"in t&&(n.new_email=t?.newEmail,delete n.newEmail),yield x(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Lc,redirectTo:e?.redirectTo})}catch(e){if(w(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(r){return d(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ae})}catch(e){if(w(e))return{data:{user:null},error:e};throw e}})}listUsers(r){return d(this,null,function*(){var e,t,n,s,o,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield x(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(t=(e=r?.page)===null||e===void 0?void 0:e.toString())!==null&&t!==void 0?t:"",per_page:(s=(n=r?.perPage)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:""},xform:$c});if(u.error)throw u.error;let h=yield u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(A=>{let C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(A.split(";")[1].split("=")[1]);c[`${D}Page`]=C}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(w(c))return{data:{users:[]},error:c};throw c}})}getUserById(r){return d(this,null,function*(){try{return yield x(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ae})}catch(e){if(w(e))return{data:{user:null},error:e};throw e}})}updateUserById(r,e){return d(this,null,function*(){try{return yield x(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:e,headers:this.headers,xform:Ae})}catch(t){if(w(t))return{data:{user:null},error:t};throw t}})}deleteUser(r,e=!1){return d(this,null,function*(){try{return yield x(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:e},xform:Ae})}catch(t){if(w(t))return{data:{user:null},error:t};throw t}})}_listFactors(r){return d(this,null,function*(){try{let{data:e,error:t}=yield x(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:e,error:t}}catch(e){if(w(e))return{data:null,error:e};throw e}})}_deleteFactor(r){return d(this,null,function*(){try{return{data:yield x(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(e){if(w(e))return{data:null,error:e};throw e}})}};var Bc={getItem:i=>ze()?globalThis.localStorage.getItem(i):null,setItem:(i,r)=>{ze()&&globalThis.localStorage.setItem(i,r)},removeItem:i=>{ze()&&globalThis.localStorage.removeItem(i)}};function ho(i={}){return{getItem:r=>i[r]||null,setItem:(r,e)=>{i[r]=e},removeItem:r=>{delete i[r]}}}function Hc(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var lt={debug:!!(globalThis&&ze()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ei=class extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}},cn=class extends ei{};function fo(i,r,e){return d(this,null,function*(){lt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);let t=new globalThis.AbortController;return r>0&&setTimeout(()=>{t.abort(),lt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),yield globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:t.signal},n=>d(this,null,function*(){if(n){lt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,n.name);try{return yield e()}finally{lt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,n.name)}}else{if(r===0)throw lt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new cn(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(lt.debug)try{let s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}}))})}Hc();var op={url:Dc,storageKey:Ic,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ti=30*1e3,zc=3;function Gc(i,r,e){return d(this,null,function*(){return yield e()})}var po=(()=>{class i{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=i.nextInstanceID,i.nextInstanceID+=1,this.instanceID>0&&de()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let s=Object.assign(Object.assign({},op),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Bt({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=on(s.fetch),this.lock=s.lock||Gc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:de()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=fo:this.lock=Gc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ze()?this.storage=Bc:(this.memoryStorage={},this.storage=ho(this.memoryStorage)):(this.memoryStorage={},this.storage=ho(this.memoryStorage)),de()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",o=>d(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nn}) ${new Date().toISOString()}`,...e),this}initialize(){return d(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=d(this,null,function*(){return yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return d(this,null,function*(){try{let e=de()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:t,error:n}=yield this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),n?.code==="identity_already_exists"?{error:n}:(yield this._removeSession(),{error:n});let{session:s,redirectType:o}=t;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),yield this._saveSession(s),setTimeout(()=>d(this,null,function*(){o==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return w(e)?{error:e}:{error:new Ut("Unexpected error during initialization",e)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return d(this,null,function*(){var t,n,s;try{let o=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:je}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(w(o))return{data:{user:null,session:null},error:o};throw o}})}signUp(e){return d(this,null,function*(){var t,n,s;try{let o;if("email"in e){let{email:h,password:f,options:p}=e,A=null,C=null;this.flowType==="pkce"&&([A,C]=yield nt(this.storage,this.storageKey)),o=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:h,password:f,data:(t=p?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:A,code_challenge_method:C},xform:je})}else if("phone"in e){let{phone:h,password:f,options:p}=e;o=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=p?.data)!==null&&n!==void 0?n:{},channel:(s=p?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:je})}else throw new st("You must provide either an email or phone number and a password");let{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(w(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithPassword(e){return d(this,null,function*(){try{let t;if("email"in e){let{email:o,password:a,options:l}=e;t=yield x(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:uo})}else if("phone"in e){let{phone:o,password:a,options:l}=e;t=yield x(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:uo})}else throw new st("You must provide either an email or phone number and a password");let{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Lt}:(n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(w(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return d(this,null,function*(){var t,n,s,o;return yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(e){return d(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>d(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return d(this,null,function*(){let t=yield Jr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{let{data:o,error:a}=yield x(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:je});if(yield Zr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Lt}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(w(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}})}signInWithIdToken(e){return d(this,null,function*(){try{let{options:t,provider:n,token:s,access_token:o,nonce:a}=e,l=yield x(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:je}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Lt}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(t){if(w(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return d(this,null,function*(){var t,n,s,o,a;try{if("email"in e){let{email:l,options:c}=e,u=null,h=null;this.flowType==="pkce"&&([u,h]=yield nt(this.storage,this.storageKey));let{error:f}=yield x(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c?.data)!==null&&t!==void 0?t:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:h}=yield x(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c?.data)!==null&&s!==void 0?s:{},create_user:(o=c?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new st("You must provide either an email or phone number.")}catch(l){if(w(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return d(this,null,function*(){var t,n;try{let s,o;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);let{data:a,error:l}=yield x(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:je});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(w(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(e){return d(this,null,function*(){var t,n,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=yield nt(this.storage,this.storageKey)),yield x(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:Uc})}catch(o){if(w(o))return{data:null,error:o};throw o}})}reauthenticate(){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return d(this,null,function*(){try{return yield this._useSession(e=>d(this,null,function*(){let{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new he;let{error:s}=yield x(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}}))}catch(e){if(w(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return d(this,null,function*(){try{let t=`${this.url}/resend`;if("email"in e){let{email:n,type:s,options:o}=e,{error:a}=yield x(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:n,type:s,options:o}=e,{data:a,error:l}=yield x(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new st("You must provide either an email or phone number and a type")}catch(t){if(w(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return this._useSession(t=>d(this,null,function*(){return t}))}))})}_acquireLock(e,t){return d(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=d(this,null,function*(){return yield n,yield t()});return this.pendingInLock.push(d(this,null,function*(){try{yield s}catch{}})),s}return yield this.lock(`lock:${this.storageKey}`,e,()=>d(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let n=t();for(this.pendingInLock.push(d(this,null,function*(){try{yield n}catch{}})),yield n;this.pendingInLock.length;){let s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return d(this,null,function*(){this._debug("#_useSession","begin");try{let t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return d(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,t=yield Jr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,h)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:e},error:null}}let{session:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return d(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return d(this,null,function*(){try{return e?yield x(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ae}):yield this._useSession(t=>d(this,null,function*(){var n,s,o;let{data:a,error:l}=t;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new he}:yield x(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ae})}))}catch(t){if(w(t))return Vc(t)&&(yield this._removeSession(),yield Zr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}})}updateUser(n){return d(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(n){return d(this,arguments,function*(e,t={}){try{return yield this._useSession(s=>d(this,null,function*(){let{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new he;let l=o.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield nt(this.storage,this.storageKey));let{data:h,error:f}=yield x(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Ae});if(f)throw f;return l.user=h.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(s){if(w(s))return{data:{user:null},error:s};throw s}})}_decodeJWT(e){return co(e)}setSession(e){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return d(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new he;let t=Date.now()/1e3,n=t,s=!0,o=null,a=co(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){let{session:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-t,expires_at:n},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(w(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return d(this,null,function*(){try{return yield this._useSession(t=>d(this,null,function*(){var n;if(!e){let{data:a,error:l}=t;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new he;let{session:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(w(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e){return d(this,null,function*(){try{if(!de())throw new ot("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ot("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Qr("Not a valid PKCE flow url.");let t=sn(window.location.href);if(e){if(!t.code)throw new Qr("No code detected.");let{data:Ie,error:fe}=yield this._exchangeCodeForSession(t.code);if(fe)throw fe;let Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:Ie.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new ot(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});let{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new ot("No session defined in URL");let h=Math.round(Date.now()/1e3),f=parseInt(l),p=h+f;c&&(p=parseInt(c));let A=p-h;A*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${f}s`);let C=p-f;h-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,p,h):h-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,p,h);let{data:D,error:F}=yield this._getUser(o);if(F)throw F;let De={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:a,token_type:u,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:De,redirectType:t.type},error:null}}catch(t){if(w(t))return{data:{session:null,redirectType:null},error:t};throw t}})}_isImplicitGrantFlow(){let e=sn(window.location.href);return!!(de()&&(e.access_token||e.error_description))}_isPKCEFlow(){return d(this,null,function*(){let e=sn(window.location.href),t=yield Jr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)})}signOut(){return d(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return d(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>d(this,null,function*(){var n;let{data:s,error:o}=t;if(o)return{error:o};let a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(Nc(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield Zr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let t=Mc(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),d(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){this._emitInitialSession(t)}))}),{data:{subscription:n}}}_emitInitialSession(e){return d(this,null,function*(){return yield this._useSession(t=>d(this,null,function*(){var n,s;try{let{data:{session:o},error:a}=t;if(a)throw a;yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){yield(s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}}))})}resetPasswordForEmail(n){return d(this,arguments,function*(e,t={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=yield nt(this.storage,this.storageKey,!0));try{return yield x(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(w(a))return{data:null,error:a};throw a}})}getUserIdentities(){return d(this,null,function*(){var e;try{let{data:t,error:n}=yield this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(w(t))return{data:null,error:t};throw t}})}linkIdentity(e){return d(this,null,function*(){var t;try{let{data:n,error:s}=yield this._useSession(o=>d(this,null,function*(){var a,l,c,u,h;let{data:f,error:p}=o;if(p)throw p;let A=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield x(this.fetch,"GET",A,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})}));if(s)throw s;return de()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(w(n))return{data:{provider:e.provider,url:null},error:n};throw n}})}unlinkIdentity(e){return d(this,null,function*(){try{return yield this._useSession(t=>d(this,null,function*(){var n,s;let{data:o,error:a}=t;if(a)throw a;return yield x(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})}))}catch(t){if(w(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return d(this,null,function*(){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{let n=Date.now();return yield Pc(s=>d(this,null,function*(){return s>0&&(yield kc(200*Math.pow(2,s-1))),this._debug(t,"refreshing attempt",s),yield x(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:je})}),(s,o)=>{let a=200*Math.pow(2,s);return o&&ln(o)&&Date.now()+a-n<ti})}catch(n){if(this._debug(t,"error",n),w(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return d(this,null,function*(){let n=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),de()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}})}_recoverAndRefresh(){return d(this,null,function*(){var e;let t="#_recoverAndRefresh()";this._debug(t,"begin");try{let n=yield Jr(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&(yield this._removeSession());return}let s=Math.round(Date.now()/1e3),o=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<s+oo;if(this._debug(t,`session has${o?"":" not"} expired with margin of ${oo}s`),o){if(this.autoRefreshToken&&n.refresh_token){let{error:a}=yield this._callRefreshToken(n.refresh_token);a&&(console.error(a),ln(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}})}_callRefreshToken(e){return d(this,null,function*(){var t,n;if(!e)throw new he;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Kr;let{data:o,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new he;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);let l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),w(o)){let a={session:null,error:o};return ln(o)||(yield this._removeSession()),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(e,t,n=!0){return d(this,null,function*(){let s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});let o=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>d(this,null,function*(){try{yield l.callback(e,t)}catch(c){o.push(c)}}));if(yield Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}})}_saveSession(e){return d(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield lo(this.storage,this.storageKey,e)})}_removeSession(){return d(this,null,function*(){this._debug("#_removeSession()"),yield Zr(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&de()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return d(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>d(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return d(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return d(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return d(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return d(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>d(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(t=>d(this,null,function*(){let{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let s=Math.floor((n.expires_at*1e3-e)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ti}ms, refresh threshold is ${zc} ticks`),s<=zc&&(yield this._callRefreshToken(n.refresh_token))}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof ei)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return d(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!de()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>d(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return d(this,null,function*(){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,n){return d(this,null,function*(){let s=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){let[o,a]=yield nt(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n?.queryParams){let o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`})}_unenroll(e){return d(this,null,function*(){try{return yield this._useSession(t=>d(this,null,function*(){var n;let{data:s,error:o}=t;return o?{data:null,error:o}:yield x(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})}))}catch(t){if(w(t))return{data:null,error:t};throw t}})}_enroll(e){return d(this,null,function*(){try{return yield this._useSession(t=>d(this,null,function*(){var n,s;let{data:o,error:a}=t;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=yield x(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c?.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(t){if(w(t))return{data:null,error:t};throw t}})}_verify(e){return d(this,null,function*(){return this._acquireLock(-1,()=>d(this,null,function*(){try{return yield this._useSession(t=>d(this,null,function*(){var n;let{data:s,error:o}=t;if(o)return{data:null,error:o};let{data:a,error:l}=yield x(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(t){if(w(t))return{data:null,error:t};throw t}}))})}_challenge(e){return d(this,null,function*(){return this._acquireLock(-1,()=>d(this,null,function*(){try{return yield this._useSession(t=>d(this,null,function*(){var n;let{data:s,error:o}=t;return o?{data:null,error:o}:yield x(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})}))}catch(t){if(w(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return d(this,null,function*(){let{data:t,error:n}=yield this._challenge({factorId:e.factorId});return n?{data:null,error:n}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return d(this,null,function*(){let{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};let n=e?.factors||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}})}_getAuthenticatorAssuranceLevel(){return d(this,null,function*(){return this._acquireLock(-1,()=>d(this,null,function*(){return yield this._useSession(e=>d(this,null,function*(){var t,n;let{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(s.access_token),l=null;a.aal&&(l=a.aal);let c=l;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");let h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}))})}}return i.nextInstanceID=0,i})();var ap=po,go=ap;var un=class extends go{constructor(r){super(r)}};var lp=function(i,r,e,t){function n(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(t.next(u))}catch(h){o(h)}}function l(u){try{c(t.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((t=t.apply(i,r||[])).next())})},dn=class{constructor(r,e,t){var n,s,o;if(this.supabaseUrl=r,this.supabaseKey=e,!r)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=xc(r);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:wc,realtime:Sc,auth:Object.assign(Object.assign({},Cc),{storageKey:l}),global:bc},u=Ac(t??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Ec(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new ac(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Pr(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Gr(this.storageUrl,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},t={}){return this.rest.rpc(r,e,t)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,e;return lp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:t}=yield this.auth.getSession();return(e=(r=t.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:n,storageKey:s,flowType:o,lock:a,debug:l},c,u){var h;let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new un({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:n,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(r){return new Hr(this.realtimeUrl,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(r,e,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t??null),this.changedAccessToken=t):r==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var hn=(i,r,e)=>new dn(i,r,e);var Ht={production:!1,supabaseUrl:"https://wxydoamvscsnsrbattaf.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4eWRvYW12c2NzbnNyYmF0dGFmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI4MDg2ODAsImV4cCI6MjA0ODM4NDY4MH0.GyDLRJCnY5Q-FFhCHZIqcvVzpxIrQRa-x3NGdvK6uxM"};var zt=(()=>{class i{constructor(e){this.router=e,this._currentUser=new G(null),this.supabase=hn(Ht.supabaseUrl,Ht.supabaseKey),this.supabase.auth.onAuthStateChange((t,n)=>{t=="SIGNED_IN"?this._currentUser.next(n.user):(this._currentUser.next(!1),this.router.navigateByUrl("/",{replaceUrl:!0}))})}init(){return d(this,null,function*(){let e=yield this.supabase.auth.getUser();console.log(e),this._currentUser.next(e||!1)})}signInWithEmail(e){return this.supabase.auth.signInWithOtp({email:e})}logout(){this.supabase.auth.signOut()}get currentUser(){return this._currentUser.asObservable()}static{this.\u0275fac=function(t){return new(t||i)(I(B))}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function cp(i,r){if(i&1){let e=re();_(0,"div",8)(1,"div",8)(2,"label",9),k(3," Email address "),E(),_(4,"div",10)(5,"input",11),Je("ngModelChange",function(n){W(e);let s=R();return Ke(s.email,n)||(s.email=n),K(n)}),E()()(),_(6,"div")(7,"button",12),L("click",function(){W(e);let n=R();return K(n.signIn())}),k(8," Send login link "),E()()()}if(i&2){let e=R();M(5),We("ngModel",e.email)}}function up(i,r){i&1&&k(0," Please check your emails! ")}var Wc=(()=>{class i{constructor(e,t,n){this.auth=e,this.spinner=t,this.router=n,this.email="",this.linkSuccess=!1,this.auth.currentUser.subscribe(s=>{s&&this.router.navigateByUrl("/workspace",{replaceUrl:!0})})}ngOnInit(){}signIn(){return d(this,null,function*(){this.spinner.show();let e=yield this.auth.signInWithEmail(this.email);this.spinner.hide(),e.error?alert(e.error.message):this.linkSuccess=!0})}static{this.\u0275fac=function(t){return new(t||i)(y(zt),y(Vs),y(B))}}static{this.\u0275cmp=ae({type:i,selectors:[["app-login"]],standalone:!0,features:[le],decls:10,vars:2,consts:[["check_mails",""],["type","ball-scale-multiple"],[1,"flex","min-h-full","flex-col","justify-center","py-12","sm:px-6","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-8","sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"bg-white","py-8","px-4","shadow","sm:rounded-lg","sm:px-10"],["class","space-y-6",4,"ngIf","ngIfElse"],[1,"space-y-6"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1"],["type","email","autocomplete","email","placeholder","john@doe.com",1,"block","w-full","rounded-md","border","border-gray-300","px-3","py-2","placeholder-gray-400","shadow-sm","focus:border-indigo-500","focus:outline-none","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"flex","w-full","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2",3,"click"]],template:function(t,n){if(t&1&&(me(0,"ngx-spinner",1),_(1,"div",2)(2,"div",3)(3,"h2",4),k(4," \u270AHamro Board "),E()(),_(5,"div",5)(6,"div",6),Z(7,cp,9,1,"div",7)(8,up,1,0,"ng-template",null,0,sa),E()()()),t&2){let s=ia(9);M(7),j("ngIf",!n.linkSuccess)("ngIfElse",s)}},dependencies:[ke,_t,Dl,Al,Mt,Tt,Li,Or]})}}return i})();var Zc=vo(Jc(),1);var Yc=new P("gravatarCustom.config"),Qc=function(i){return i.blank="blank",i.identicon="identicon",i.mm="mm",i.mp="mp",i.monsterid="monsterid",i.retro="retro",i.robohash="robohash",i.wavatar="wavatar",i}(Qc||{}),Xc=function(i){return i.g="g",i.pg="pg",i.r="r",i.x="x",i}(Xc||{}),dp={fallback:Qc.retro,size:40,cornerRadius:0,preferGravatar:!1,hasBorder:!1,borderColor:"#000000",borderRadius:"50%",borderStyle:"solid",borderWidth:1,round:!0,backgroundColor:"transparent",rating:Xc.g,ratio:2},hp=(()=>{class i{constructor(e){this.gravatarConfig=e,this.defaultConfig=g({},dp),this.gravatarConfig&&(this.defaultConfig=g(g({},this.defaultConfig),this.gravatarConfig))}getDefaultConfig(){return this.defaultConfig}generateGravatarUrl(e,t,n=this.defaultConfig.size,s=this.defaultConfig.rating,o=this.defaultConfig.fallback){let a;if(t)a=t;else{try{e=e.trim().toLowerCase()}catch{console.error(`[ngx-gravatar] - Email (${e}) is not a string. Empty string is used as a default email.`),e=""}a=Zc.Md5.hashStr(e)}return`https://www.gravatar.com/avatar/${a}?s=${n}&r=${s}&d=${o}`}}return i.\u0275fac=function(e){return new(e||i)(I(Yc,8))},i.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),eu=(()=>{class i{constructor(e,t,n){this.elementRef=e,this.renderer=t,this.gravatarService=n,this.style={},this.initialized=!1,this.defaultConfig=this.gravatarService.getDefaultConfig(),this.renderer.listen(this.elementRef.nativeElement,"error",s=>{this.isGravatarUsed||this.initializeAvatar(!0)})}ngOnInit(){this.initializeAvatar(),this.initialized=!0,this.isGravatarUsed=!1}ngOnChanges(){this.initialized&&this.initializeAvatar()}setDefaultValues(){this.size=this.computeSize(),this.ratio=this.ratio===void 0?this.defaultConfig.ratio:this.ratio,this.requestedSize=this.size*this.ratio,this.round=this.round===void 0?this.defaultConfig.round:this.round,this.cornerRadius=this.cornerRadius===void 0?this.defaultConfig.cornerRadius:this.cornerRadius,this.preferGravatar=this.preferGravatar===void 0?this.defaultConfig.preferGravatar:this.preferGravatar}initializeAvatar(e){this.setDefaultValues();let t="";this.preferGravatar||e?(t=this.gravatarService.generateGravatarUrl(this.email,this.md5Hash,this.requestedSize,this.rating,this.fallback),this.isGravatarUsed=!0):this.src?t=this.src:(t=this.gravatarService.generateGravatarUrl(this.email,this.md5Hash,this.requestedSize,this.rating,this.fallback),this.isGravatarUsed=!0),this.renderer.setProperty(this.elementRef.nativeElement,"src",t),this.setStyle(this.avatarStyle())}computeSize(){let e=this.size===void 0?this.defaultConfig.size:this.size;if(this.style&&this.style.width)try{let t=this.style.width.trim();t.match(/^\d+px$/)&&(e=t.replace("px",""))}catch{return e}return e}avatarStyle(){let e={width:this.size+"px",height:this.size+"px",borderRadius:this.round?this.defaultConfig.borderRadius:this.cornerRadius+"px",borderStyle:this.defaultConfig.hasBorder||this.borderColor||this.borderWidth?this.defaultConfig.borderStyle:"none",borderColor:this.borderColor?this.borderColor:this.defaultConfig.borderColor,borderWidth:this.borderWidth?this.borderWidth+"px":this.defaultConfig.borderWidth+"px",backgroundColor:this.backgroundColor?this.backgroundColor:this.defaultConfig.backgroundColor};return g(g({},e),this.style)}setStyle(e){Object.keys(e).forEach(t=>{this.renderer.setStyle(this.elementRef.nativeElement,t,e[t])})}}return i.\u0275fac=function(e){return new(e||i)(y(Me),y(qe),y(hp))},i.\u0275dir=ge({type:i,selectors:[["","ngx-gravatar",""],["","ngxGravatar",""]],inputs:{src:"src",email:"email",md5Hash:"md5Hash",size:"size",fallback:"fallback",rating:"rating",round:"round",cornerRadius:"cornerRadius",borderColor:"borderColor",borderWidth:"borderWidth",style:"style",preferGravatar:"preferGravatar",backgroundColor:"backgroundColor",ratio:"ratio"},features:[Te]}),i})(),tu=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:Yc,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=_e({}),i})();var pn="boards",ru="user_boards",Gt="lists",qt="cards",pp="users",gn=(()=>{class i{constructor(){this.supabase=hn(Ht.supabaseUrl,Ht.supabaseKey)}startBoard(){return d(this,null,function*(){return yield this.supabase.from(pn).insert({})})}getBoards(){return d(this,null,function*(){return(yield this.supabase.from(ru).select(`
    boards:board_id ( title, id )
  `)).data||[]})}getBoardInfo(e){return d(this,null,function*(){return yield this.supabase.from(pn).select("*").match({id:e}).single()})}updateBoard(e){return d(this,null,function*(){return yield this.supabase.from(pn).update(e).match({id:e.id})})}deleteBoard(e){return d(this,null,function*(){return yield this.supabase.from(pn).delete().match({id:e.id})})}getBoardLists(e){return d(this,null,function*(){return(yield this.supabase.from(Gt).select("*").eq("board_id",e).order("position")).data||[]})}addBoardList(e,t=0){return d(this,null,function*(){return yield this.supabase.from(Gt).insert({board_id:e,position:t,title:"New List"}).select("*").single()})}updateBoardList(e){return d(this,null,function*(){return yield this.supabase.from(Gt).update(e).match({id:e.id})})}deleteBoardList(e){return d(this,null,function*(){return yield this.supabase.from(Gt).delete().match({id:e.id})})}addListCard(e,t,n=0){return d(this,null,function*(){return yield this.supabase.from(qt).insert({board_id:t,list_id:e,position:n}).select("*").single()})}getListCards(e){return d(this,null,function*(){return(yield this.supabase.from(qt).select("*").eq("list_id",e).order("position")).data||[]})}updateCard(e){return d(this,null,function*(){return yield this.supabase.from(qt).update(e).match({id:e.id})})}deleteCard(e){return d(this,null,function*(){return yield this.supabase.from(qt).delete().match({id:e.id})})}addUserToBoard(e,t){return d(this,null,function*(){let n=yield this.supabase.from(pp).select("id").match({email:t}).single();if(n.data?.id){let s=n.data.id;return yield this.supabase.from(ru).insert({user_id:s,board_id:e})}else return null})}getTableChanges(){let e=new oe,t=this.supabase.channel(qt).on("postgres_changes",{event:"*",schema:"public",table:qt},s=>e.next(s)).subscribe(),n=this.supabase.channel(Gt).on("postgres_changes",{event:"*",schema:"public",table:Gt},s=>e.next(s)).subscribe();return{changes:e.asObservable(),unsubscribe:()=>{t.unsubscribe(),n.unsubscribe()}}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function gp(i,r){if(i&1&&(_(0,"li",15),k(1),E()),i&2){let e=r.$implicit;j("routerLink",e.boards.id),M(),Xt(" ",e.boards.title," ")}}var nu=(()=>{class i{constructor(e,t,n){this.dataService=e,this.router=t,this.auth=n,this.boards=[],this.user=this.auth.currentUser}ngOnInit(){return d(this,null,function*(){this.boards=yield this.dataService.getBoards()})}startBoard(){return d(this,null,function*(){let e=yield this.dataService.startBoard();if(this.boards=yield this.dataService.getBoards(),this.boards.length>0){let t=this.boards.pop();t.boards&&this.router.navigateByUrl(`/workspace/${t.boards.id}`)}})}signOut(){this.auth.logout()}static{this.\u0275fac=function(t){return new(t||i)(y(gn),y(B),y(zt))}}static{this.\u0275cmp=ae({type:i,selectors:[["app-workspace"]],standalone:!0,features:[le],decls:22,vars:7,consts:[[1,"bg-indigo-600"],[1,"mx-auto","max-w-7xl","px-4","sm:px-6","lg:px-8"],[1,"flex","w-full","items-center","justify-between","border-b","border-indigo-500","py-6","lg:border-none"],[1,"flex","items-center"],["routerLink","/workspace"],[1,"font-semibold","text-white","text-2xl"],[1,"text-3xl"],[1,"ml-10","flex","items-center","space-x-4"],[1,"text-white"],["ngxGravatar","",3,"email"],[1,"inline-block","rounded-md","border","border-transparent","bg-white","py-1","px-4","text-base","font-medium","text-emerald-600","hover:bg-emerald-50",3,"click"],[1,"mx-auto","max-w-7xl","px-4","py-8","sm:px-6","lg:px-8"],["role","list",1,"grid","grid-cols-2","gap-x-4","gap-y-8","sm:grid-cols-3","sm:gap-x-6","lg:grid-cols-4","xl:gap-x-8"],["class","relative h-52 rounded bg-indigo-200 py-4 px-4 text-lg font-semibold hover:cursor-pointer hover:bg-indigo-300",3,"routerLink",4,"ngFor","ngForOf"],[1,"relative","h-52","rounded","bg-indigo-500","py-4","px-4","text-lg","font-semibold","hover:cursor-pointer",3,"click"],[1,"relative","h-52","rounded","bg-indigo-200","py-4","px-4","text-lg","font-semibold","hover:cursor-pointer","hover:bg-indigo-300",3,"routerLink"]],template:function(t,n){if(t&1&&(_(0,"header",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"p",5)(6,"span",6),k(7,"\u270A"),E(),k(8," Our Board "),E()()(),_(9,"div",7)(10,"span",8),k(11),er(12,"async"),E(),me(13,"img",9),er(14,"async"),_(15,"button",10),L("click",function(){return n.signOut()}),k(16," Logout "),E()()()()(),_(17,"main",11)(18,"ul",12),Z(19,gp,2,2,"li",13),_(20,"li",14),L("click",function(){return n.startBoard()}),k(21," + New board "),E()()()),t&2){let s,o;M(11),na((s=tr(12,3,n.user))==null?null:s.email),M(2),j("email",(o=tr(14,5,n.user))==null?null:o.email),M(6),j("ngForOf",n.boards)}},dependencies:[ke,yt,pa,Mt,ji,Pi,tu,eu]})}}return i})();function mp(i,r){if(i&1){let e=re();_(0,"input",18),L("ngModelChange",function(){W(e);let n=R();return K(n.titleChanged=!0)}),Je("ngModelChange",function(n){W(e);let s=R();return Ke(s.boardInfo.title,n)||(s.boardInfo.title=n),K(n)}),E()}if(i&2){let e=R();We("ngModel",e.boardInfo.title)}}function vp(i,r){if(i&1){let e=re();_(0,"button",19),L("click",function(){W(e);let n=R();return K(n.saveBoardTitle())}),k(1," Save "),E()}}function yp(i,r){if(i&1){let e=re();_(0,"p",28),L("click",function(){W(e);let n=R().$implicit,s=R();return K(s.editingTitle(n,!0))}),k(1),E()}if(i&2){let e=R().$implicit;M(),Xt(" ",e.title," ")}}function _p(i,r){if(i&1){let e=re();_(0,"input",29),Je("ngModelChange",function(n){W(e);let s=R().$implicit;return Ke(s.title,n)||(s.title=n),K(n)}),E()}if(i&2){let e=R().$implicit;We("ngModel",e.title)}}function bp(i,r){if(i&1){let e=re();_(0,"button",19),L("click",function(){W(e);let n=R().$implicit,s=R();return K(s.updateListTitle(n))}),k(1," Save "),E()}}function wp(i,r){if(i&1&&(_(0,"p",35),k(1),E()),i&2){let e=R().$implicit;M(),Xt(" ",e.title," ")}}function Cp(i,r){if(i&1){let e=re();_(0,"input",36),Je("ngModelChange",function(n){W(e);let s=R().$implicit;return Ke(s.title,n)||(s.title=n),K(n)}),E()}if(i&2){let e=R().$implicit;We("ngModel",e.title)}}function Sp(i,r){if(i&1){let e=re();_(0,"button",19),L("click",function(){W(e);let n=R().$implicit,s=R(2);return K(s.updateCard(n))}),k(1," Update "),E()}}function Ep(i,r){if(i&1){let e=re();_(0,"button",37),L("click",function(){W(e);let n=R().$implicit,s=R(2);return K(s.deleteCard(n))}),k(1," Delete "),E()}}function xp(i,r){if(i&1){let e=re();_(0,"div",30),L("click",function(){let n=W(e).$implicit,s=R(2);return K(s.editingCard(n,!0))}),Z(1,wp,2,1,"p",31)(2,Cp,1,1,"input",32),_(3,"div",33),Z(4,Sp,2,0,"button",7)(5,Ep,2,0,"button",34),E()()}if(i&2){let e=r.$implicit,t=R(2);M(),j("ngIf",!t.editCard[e.id]),M(),j("ngIf",t.editCard[e.id]),M(2),j("ngIf",t.editCard[e.id]),M(),j("ngIf",t.editCard[e.id])}}function Ap(i,r){if(i&1){let e=re();_(0,"div",20)(1,"div",21),Z(2,yp,2,1,"p",22)(3,_p,1,1,"input",23)(4,bp,2,0,"button",7),E(),_(5,"div",24),Z(6,xp,6,4,"div",25),_(7,"div",26),L("click",function(){let n=W(e).$implicit,s=R();return K(s.addCard(n))}),k(8," + Add a card "),E(),_(9,"button",27),L("click",function(){let n=W(e).$implicit,s=R();return K(s.deleteBoardList(n))}),k(10," Delete list "),E()()()}if(i&2){let e=r.$implicit,t=R();M(2),j("ngIf",!t.editTitle[e.id]),M(),j("ngIf",t.editTitle[e.id]),M(),j("ngIf",t.editTitle[e.id]),M(2),j("ngForOf",t.listCards[e.id])}}var su=(()=>{class i{constructor(e,t,n){this.route=e,this.dataService=t,this.router=n,this.lists=[],this.boardId=null,this.editTitle={},this.editCard={},this.boardInfo=null,this.titleChanged=!1,this.listCards={},this.addUserEmail=""}ngOnInit(){return d(this,null,function*(){if(this.boardId=this.route.snapshot.paramMap.get("id"),this.boardId){let e=yield this.dataService.getBoardInfo(this.boardId);this.boardInfo=e.data,this.lists=yield this.dataService.getBoardLists(this.boardId);for(let t of this.lists)this.listCards[t.id]=yield this.dataService.getListCards(t.id);this.handleRealtimeUpdates()}})}saveBoardTitle(){return d(this,null,function*(){yield this.dataService.updateBoard(this.boardInfo),this.titleChanged=!1})}deleteBoard(){return d(this,null,function*(){yield this.dataService.deleteBoard(this.boardInfo),this.router.navigateByUrl("/workspace")})}addList(){return d(this,null,function*(){let e=yield this.dataService.addBoardList(this.boardId,this.lists.length)})}editingTitle(e,t=!1){this.editTitle[e.id]=t}updateListTitle(e){return d(this,null,function*(){yield this.dataService.updateBoardList(e),this.editingTitle(e,!1)})}deleteBoardList(e){return d(this,null,function*(){yield this.dataService.deleteBoardList(e)})}addCard(e){return d(this,null,function*(){yield this.dataService.addListCard(e.id,this.boardId,this.listCards[e.id].length)})}editingCard(e,t=!1){this.editCard[e.id]=t}updateCard(e){return d(this,null,function*(){yield this.dataService.updateCard(e),this.editingCard(e,!1)})}deleteCard(e){return d(this,null,function*(){yield this.dataService.deleteCard(e)})}addUser(){return d(this,null,function*(){yield this.dataService.addUserToBoard(this.boardId,this.addUserEmail),this.addUserEmail=""})}handleRealtimeUpdates(){this.dataService.getTableChanges().changes.subscribe(t=>{let n=t.new?.id?t.new:t.old,s=t.eventType;if(n)switch(t.table){case"cards":this.handleCardUpdate(n,s);break;case"lists":if(s==="INSERT")this.lists.push(n),this.listCards[n.id]=[];else if(s==="UPDATE"){this.lists.filter(a=>a.id===n.id)[0]=n;let o=[];for(let a of this.lists)a.id==n.id&&(a=n),o.push(a);this.lists=o}else s==="DELETE"&&(this.lists=this.lists.filter(o=>o.id!==n.id));break}})}handleCardUpdate(e,t){if(t==="INSERT")this.listCards[e.list_id].push(e);else if(t==="UPDATE"){let n=[];for(let s of this.listCards[e.list_id])s.id==e.id&&(s=e),n.push(s);this.listCards[e.list_id]=n}}onKeydownHandler(e){e.keyCode===27&&(this.titleChanged=!1,Object.keys(this.editCard).map(t=>(this.editCard[t]=!1,t)),Object.keys(this.editTitle).map(t=>(this.editTitle[t]=!1,t)))}static{this.\u0275fac=function(t){return new(t||i)(y(Se),y(gn),y(B))}}static{this.\u0275cmp=ae({type:i,selectors:[["app-board"]],hostBindings:function(t,n){t&1&&L("keydown",function(o){return n.onKeydownHandler(o)},!1,Go)},standalone:!0,features:[le],decls:23,vars:4,consts:[[1,"bg-indigo-600"],[1,"mx-auto","max-w-7xl","px-4","sm:px-6","lg:px-8"],[1,"flex","w-full","items-center","justify-between","border-b","border-indigo-500","py-6","lg:border-none"],[1,"flex","items-center"],["routerLink","/workspace",1,"font-semibold","text-white"],[1,"flex","gap-4"],["class","ml-10 space-x-4 bg-indigo-600 font-bold text-white rounded-lg hover:bg-indigo-500 border-indigo-500",3,"ngModel","ngModelChange",4,"ngIf"],["class","font-medium",3,"click",4,"ngIf"],[1,"flex"],[1,"text-small","font-medium","p-2","bg-orange-600","rounded-lg","hover:bg-orange-500","text-white",3,"click"],[1,"mx-auto","max-w-7xl","px-4","py-8","sm:px-6","lg:px-8"],[1,"grid","grid-cols-2","gap-x-4","gap-y-8","sm:grid-cols-3","sm:gap-x-6","lg:grid-cols-4","xl:gap-x-8"],["class","min-h-52 relative h-auto rounded bg-indigo-200 py-4 px-4 text-sm font-semibold",4,"ngFor","ngForOf"],[1,"relative","h-16","rounded","bg-indigo-500","py-4","px-4","text-lg","font-semibold","hover:cursor-pointer",3,"click"],[1,"flex","items-center","gap-4","py-12"],[1,"block","text-3xl","font-extrabold","text-gray-900"],["placeholder","john@doe.com",1,"block","rounded-md","border","border-gray-300","px-3","py-2","shadow-sm","focus:border-indigo-500","focus:outline-none","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"inline-flex","items-center","rounded","border","border-transparent","bg-indigo-600","px-2.5","py-1.5","text-xs","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2",3,"click"],[1,"ml-10","space-x-4","bg-indigo-600","font-bold","text-white","rounded-lg","hover:bg-indigo-500","border-indigo-500",3,"ngModelChange","ngModel"],[1,"font-medium",3,"click"],[1,"min-h-52","relative","h-auto","rounded","bg-indigo-200","py-4","px-4","text-sm","font-semibold"],[1,"flex","gap-2","pb-4"],["class","hover:cursor-pointer",3,"click",4,"ngIf"],["class","block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",3,"ngModel","ngModelChange",4,"ngIf"],[1,"flex","flex-col","items-center","gap-2"],["class","flex h-auto w-full flex-col gap-2 hover:cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"pt-8","text-gray-500","hover:cursor-pointer",3,"click"],[1,"text-small","font-medium","text-red-700",3,"click"],[1,"hover:cursor-pointer",3,"click"],[1,"block","w-full","rounded-md","border","border-gray-300","px-3","py-2","shadow-sm","focus:border-indigo-500","focus:outline-none","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"flex","h-auto","w-full","flex-col","gap-2","hover:cursor-pointer",3,"click"],["class","h-10 bg-white py-2 px-2",4,"ngIf"],["class","block rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",3,"ngModel","ngModelChange",4,"ngIf"],[1,"align-items-center","flex","justify-between"],["class","font-medium text-red-600",3,"click",4,"ngIf"],[1,"h-10","bg-white","py-2","px-2"],[1,"block","rounded-md","border","border-gray-300","px-3","py-2","shadow-sm","focus:border-indigo-500","focus:outline-none","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"font-medium","text-red-600",3,"click"]],template:function(t,n){t&1&&(_(0,"header",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"a",4),k(5," < Back "),E()(),_(6,"div",5),Z(7,mp,1,1,"input",6)(8,vp,2,0,"button",7),E(),_(9,"div",8)(10,"button",9),L("click",function(){return n.deleteBoard()}),k(11," Delete board "),E()()()()(),_(12,"main",10)(13,"div",11),Z(14,Ap,11,4,"div",12),_(15,"div",13),L("click",function(){return n.addList()}),k(16," + New list "),E()(),_(17,"div",14)(18,"span",15),k(19,"Invite"),E(),_(20,"input",16),Je("ngModelChange",function(o){return Ke(n.addUserEmail,o)||(n.addUserEmail=o),o}),E(),_(21,"button",17),L("click",function(){return n.addUser()}),k(22," Invite "),E()()()),t&2&&(M(7),j("ngIf",n.boardInfo),M(),j("ngIf",n.titleChanged),M(6),j("ngForOf",n.lists),M(6),We("ngModel",n.addUserEmail))},dependencies:[ke,yt,_t,Mt,Tt,Li,Or,ji,Pi]})}}return i})();var mo=(i,r)=>{let e=m(zt),t=m(B);return e.currentUser?!0:t.createUrlTree(["/"])};var ou=[{path:"",component:Wc},{path:"workspace",component:nu,canActivate:[mo]},{path:"workspace/:id",component:su,canActivate:[mo]},{path:"**",redirectTo:"/"}];var au={providers:[_l(ou),El()]};var lu=(()=>{class i{constructor(){this.title="trelloBoard"}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=ae({type:i,selectors:[["app-root"]],standalone:!0,features:[le],decls:1,vars:0,template:function(t,n){t&1&&me(0,"router-outlet")},dependencies:[Ds]})}}return i})();Ta(lu,au).catch(i=>console.error(i));
